window.ESG=void 0===window.ESG?{}:window.ESG,ESG.F=void 0===ESG.F?{}:ESG.F,ESG.ENV=void 0===ESG.ENV?{}:ESG.ENV,ESG.V=void 0===ESG.V?{}:ESG.V,ESG.S=void 0===ESG.S?{}:ESG.S,ESG.SC=void 0===ESG.SC?{}:ESG.SC,ESG.C=void 0===ESG.C?{}:ESG.C,ESG.LIB=void 0===ESG.LIB?{nav_skins:[],item_skins:{},nav_originals:{}}:ESG.LIB,ESG.CM=void 0===ESG.CM?{apiJS:null,ajaxCSS:null,navCSS:null}:ESG.CM,ESG.WIN=void 0===ESG.WIN?jQuery(window):ESG.WIN,ESG.DOC=void 0===ESG.DOC?jQuery(document):ESG.DOC,ESG.C.gridEditorInputs=void 0===ESG.C.gridEditorInputs?{}:ESG.C.gridEditorInputs;var eg_codemirror_global_css,GridEditorEssentials=new function(){var e,t=this,n=null,i={},r={},a=[],s={},o=!1,l=[],u=[],d=[];t.initDraggable=function(){jQuery(".eg-draggable").draggable({handle:".dragme"})},t.setInitLayersJson=function(e){for(var t in i=void 0!==e&&e.length>0?JSON.parse(e):{})if("string"!=typeof i[t]){void 0===i[t].settings&&(i[t].settings={});var n=i[t].settings;n.hasOwnProperty("min-height")||(i[t].settings["min-height"]=0),n.hasOwnProperty("max-height")||(i[t].settings["max-height"]="none"),n.hasOwnProperty("duration")||(i[t].settings.duration="default"),n.hasOwnProperty("letter-spacing")||(i[t].settings["letter-spacing"]="normal"),n.hasOwnProperty("letter-spacing-hover")||(i[t].settings["letter-spacing-hover"]="normal")}},t.setInitElementsJson=function(e){for(var t in r=void 0!==e&&e.length>0?JSON.parse(e):{})void 0!==r[t].settings["font-family"]&&(r[t].settings["font-family"]=AdminEssentials.stripslashes(r[t].settings["font-family"]))},t.setInitFontsJson=function(e){u=void 0!==e&&e.length>0?JSON.parse(e):{}},t.refreshInitElements=function(e){for(var t in r=e)void 0!==r[t].settings["font-family"]&&(r[t].settings["font-family"]=AdminEssentials.stripslashes(r[t].settings["font-family"]))},t.setInitMetaKeysJson=function(e){d=void 0!==e&&e.length>0?JSON.parse(e):{}},t.setInitAllAttributesJson=function(e){s=void 0!==e&&e.length>0?JSON.parse(e):{}},t.update_layers=function(){if(null==n)return!1;null!=n.data("id")?t.update_layer_sorting():t.add_layer(),t.redraw_container_height()},t.updateInput=function(e,t,n,i){if(t=t.replace("#",""),ESG.C.gridEditorInputs[t]=void 0===ESG.C.gridEditorInputs[t]?"name"===e?jQuery(n+'[name="'+t+'"]'):jQuery("#"+t):ESG.C.gridEditorInputs[t],void 0!==ESG.C.gridEditorInputs[t]&&0!==ESG.C.gridEditorInputs[t].length)return void 0===i?ESG.C.gridEditorInputs[t].val():void("input"===n||"textarea"==n?ESG.C.gridEditorInputs[t].val(i):"select"===n&&ESG.C.gridEditorInputs[t].find('option[value="'+i+'"]').prop("selected","selected"))},t.add_layer=function(){new Date;if(null==n)return!1;var e=t.get_latest_id()+1;t.updateInput("name","eg-item-skin-element-last-id","input",e),n.data("id",e),n.attr("data-id",e);var i=new Object,s=n.data("handle");i.id=e.toString(),i.handle=n.data("handle"),i.settings=jQuery.extend({},r[n.data("handle")].settings),a.push(i),t.update_layer_sorting(),t.set_default_values(),t.select_layer(e.toString()),t.setting_has_changed(),t.propagate_element_selector(),a[a.length-1].handle=eg_lang.new_element_sanitize+"-"+e,n.data("handle",eg_lang.new_element_sanitize+"-"+e),n.attr("data-handle",n.data("handle")),n.data("orighandle",s),n.attr("orighandle",s)},t.update_layer_sorting=function(){var e=jQuery("#skin-dz-tl").sortable("toArray",{attribute:"data-id"}),n=jQuery("#skin-dz-br").sortable("toArray",{attribute:"data-id"}),i=jQuery("#skin-dz-c").sortable("toArray",{attribute:"data-id"}),r=jQuery("#skin-dz-m").sortable("toArray",{attribute:"data-id"});t.update_sorting(e,"tl"),t.update_sorting(n,"br"),t.update_sorting(i,"c"),t.update_sorting(r,"m")},t.update_sorting=function(e,t){var n=0;for(var i in e)for(var r in a)if(e[i]==a[r].id){a[r].order=n,a[r].container=t,n++;break}},t.initFieldReferences=function(){ESG.C.gridEditorInputs["element-source-event"]=void 0===ESG.C.gridEditorInputs["element-source-event"]?jQuery("#element-source-event"):ESG.C.gridEditorInputs["element-source-event"],ESG.C.gridEditorInputs["element-source-woocommerce"]=void 0===ESG.C.gridEditorInputs["element-source-woocommerce"]?jQuery("#element-source-woocommerce"):ESG.C.gridEditorInputs["element-source-woocommerce"],ESG.C.gridEditorInputs["eg-source-icon-wrap"]=void 0===ESG.C.gridEditorInputs["eg-source-icon-wrap"]?jQuery("#eg-source-icon-wrap"):ESG.C.gridEditorInputs["eg-source-icon-wrap"],ESG.C.gridEditorInputs["eg-source-text-style-disable-wrap"]=void 0===ESG.C.gridEditorInputs["eg-source-text-style-disable-wrap"]?jQuery("#eg-source-text-style-disable-wrap"):ESG.C.gridEditorInputs["eg-source-text-style-disable-wrap"],ESG.C.gridEditorInputs["eg-source-text-wrap"]=void 0===ESG.C.gridEditorInputs["eg-source-text-wrap"]?jQuery("#eg-source-text-wrap"):ESG.C.gridEditorInputs["eg-source-text-wrap"],ESG.C.gridEditorInputs["eg-source-limit-wrap"]=void 0===ESG.C.gridEditorInputs["eg-source-limit-wrap"]?jQuery("#eg-source-limit-wrap"):ESG.C.gridEditorInputs["eg-source-limit-wrap"],ESG.C.gridEditorInputs["eg-source-functonality-wrap"]=void 0===ESG.C.gridEditorInputs["eg-source-functonality-wrap"]?jQuery("#eg-source-functonality-wrap"):ESG.C.gridEditorInputs["eg-source-functonality-wrap"],ESG.C.gridEditorInputs["esg-cat-tag-settings"]=void 0===ESG.C.gridEditorInputs["esg-cat-tag-settings"]?jQuery(".esg-cat-tag-settings"):ESG.C.gridEditorInputs["esg-cat-tag-settings"],ESG.C.gridEditorInputs["eg-source-meta-wrap"]=void 0===ESG.C.gridEditorInputs["eg-source-meta-wrap"]?jQuery("#eg-source-meta-wrap"):ESG.C.gridEditorInputs["eg-source-meta-wrap"],ESG.C.gridEditorInputs["eg-element-post-url-wrap"]=void 0===ESG.C.gridEditorInputs["eg-element-post-url-wrap"]?jQuery("#eg-element-post-url-wrap"):ESG.C.gridEditorInputs["eg-element-post-url-wrap"],ESG.C.gridEditorInputs["eg-element-post-meta-wrap"]=void 0===ESG.C.gridEditorInputs["eg-element-post-meta-wrap"]?jQuery("#eg-element-post-meta-wrap"):ESG.C.gridEditorInputs["eg-element-post-meta-wrap"],ESG.C.gridEditorInputs["eg-element-post-javascript-wrap"]=void 0===ESG.C.gridEditorInputs["eg-element-post-javascript-wrap"]?jQuery("#eg-element-post-javascript-wrap"):ESG.C.gridEditorInputs["eg-element-post-javascript-wrap"],ESG.C.gridEditorInputs["background-size-percent-wrap"]=void 0===ESG.C.gridEditorInputs["background-size-percent-wrap"]?jQuery("#background-size-percent-wrap"):ESG.C.gridEditorInputs["background-size-percent-wrap"],ESG.C.gridEditorInputs["eg-t_b_align"]=void 0===ESG.C.gridEditorInputs["eg-t_b_align"]?jQuery("#eg-t_b_align"):ESG.C.gridEditorInputs["eg-t_b_align"],ESG.C.gridEditorInputs["eg-l_r_align"]=void 0===ESG.C.gridEditorInputs["eg-l_r_align"]?jQuery("#eg-l_r_align"):ESG.C.gridEditorInputs["eg-l_r_align"],ESG.C.gridEditorInputs["eg-element-gplus_link_custom"]=void 0===ESG.C.gridEditorInputs["eg-element-gplus_link_custom"]?jQuery(".eg-element-gplus_link_custom"):ESG.C.gridEditorInputs["eg-element-gplus_link_custom"],ESG.C.gridEditorInputs["eg-element-facebook_link_custom"]=void 0===ESG.C.gridEditorInputs["eg-element-facebook_link_custom"]?jQuery(".eg-element-facebook_link_custom"):ESG.C.gridEditorInputs["eg-element-facebook_link_custom"],ESG.C.gridEditorInputs["eg-element-pinterest_link_custom"]=void 0===ESG.C.gridEditorInputs["eg-element-pinterest_link_custom"]?jQuery(".eg-element-pinterest_link_custom"):ESG.C.gridEditorInputs["eg-element-pinterest_link_custom"],ESG.C.gridEditorInputs["eg-element-twitter_link_custom"]=void 0===ESG.C.gridEditorInputs["eg-element-twitter_link_custom"]?jQuery(".eg-element-twitter_link_custom"):ESG.C.gridEditorInputs["eg-element-twitter_link_custom"],ESG.C.gridEditorInputs["eg-element-link-details-wrap"]=void 0===ESG.C.gridEditorInputs["eg-element-link-details-wrap"]?jQuery("#eg-element-link-details-wrap"):ESG.C.gridEditorInputs["eg-element-link-details-wrap"],ESG.C.gridEditorInputs["eg-element-facebook-wrap"]=void 0===ESG.C.gridEditorInputs["eg-element-facebook-wrap"]?jQuery("#eg-element-facebook-wrap"):ESG.C.gridEditorInputs["eg-element-facebook-wrap"],ESG.C.gridEditorInputs["eg-element-gplus-wrap"]=void 0===ESG.C.gridEditorInputs["eg-element-gplus-wrap"]?jQuery("#eg-element-gplus-wrap"):ESG.C.gridEditorInputs["eg-element-gplus-wrap"],ESG.C.gridEditorInputs["eg-element-pinterest-wrap"]=void 0===ESG.C.gridEditorInputs["eg-element-pinterest-wrap"]?jQuery("#eg-element-pinterest-wrap"):ESG.C.gridEditorInputs["eg-element-pinterest-wrap"],ESG.C.gridEditorInputs["eg-element-twitter-wrap"]=void 0===ESG.C.gridEditorInputs["eg-element-twitter-wrap"]?jQuery("#eg-element-twitter-wrap"):ESG.C.gridEditorInputs["eg-element-twitter-wrap"]},t.set_default_values=function(e){for(var n in s){switch(s[n].type){case"colorpicker":"undefined"==typeof RevColor?(jQuery("#element-"+n).closest(".wp-picker-container").find("a").first().css("background-color",s[n].values.default),t.updateInput("name","element-"+n,"input",s[n].values.default)):(t.updateInput("name","element-"+n,"input",s[n].values.default),ESG.C.gridEditorInputs["element-"+n].tpColorPicker());break;case"select":t.updateInput("name","element-"+n,"select",s[n].values.default),"source"==n?(t.updateInput("name","element-source-post","select","title"),t.updateInput("name","element-source-event","select","event_start_date"),t.updateInput("name","element-source-woocommerce","select","wc_regular_price_from"),t.updateInput("name","element-source-icon","input",""),ESG.C.gridEditorInputs["eg-preview-icon"]=void 0===ESG.C.gridEditorInputs["eg-preview-icon"]?jQuery("#eg-preview-icon"):ESG.C.gridEditorInputs["eg-preview-icon"],ESG.C.gridEditorInputs["eg-preview-icon"].html(""),jQuery('input[name="element-source-text-style-disable"]').prop("checked",!1),t.updateInput("name","element-source-text","textarea",""),t.updateInput("name","element-source-meta","input",""),t.updateInput("name","element-source-taxonomy","select","post_tag"),ESG.C.gridEditorInputs["element-source-event"].hide(),ESG.C.gridEditorInputs["element-source-woocommerce"].hide(),ESG.C.gridEditorInputs["eg-source-icon-wrap"].hide(),ESG.C.gridEditorInputs["eg-source-text-style-disable-wrap"].hide(),ESG.C.gridEditorInputs["eg-source-text-wrap"].hide(),ESG.C.gridEditorInputs["eg-source-limit-wrap"].hide(),ESG.C.gridEditorInputs["esg-cat-tag-settings"].hide(),ESG.C.gridEditorInputs["eg-source-functonality-wrap"].hide(),ESG.C.gridEditorInputs["eg-source-meta-wrap"].hide()):"link-type"==n?(t.updateInput("name","element-url-link","input",""),t.updateInput("name","element-javascript-link","input",""),ESG.C.gridEditorInputs["eg-element-post-url-wrap"].hide(),ESG.C.gridEditorInputs["eg-element-post-meta-wrap"].hide(),ESG.C.gridEditorInputs["eg-element-post-javascript-wrap"].hide()):"background-size"==n?(t.updateInput("name","element-background-size-x","input","100"),t.updateInput("name","element-background-size-y","input","100"),ESG.C.gridEditorInputs["background-size-percent-wrap"].css("display","none")):"align"==n&&(t.updateInput("name","element-absolute-unit","select","px"),ESG.C.gridEditorInputs["eg-t_b_align"].text(eg_lang.top),ESG.C.gridEditorInputs["eg-l_r_align"].text(eg_lang.left));break;case"checkbox":jQuery('input[name="element-'+n+'"]').prop("checked",s[n].values.default);break;case"multi-text":jQuery('input[name="element-'+n+'[]"]').each(function(){jQuery(this).val(s[n].values.default)});break;default:t.updateInput("name","element-"+n,"input",s[n].values.default)}t.updateInput("name","element-"+n+"-unit","select","px")}if(void 0!==e&&"object"==typeof a[e]&&"undefined"!==a[e].handle){var i=a[e].settings;for(var n in s)if(void 0!==i[n]){switch(s[n].type){case"colorpicker":if("bg-alpha"==n)continue;"undefined"==typeof RevColor?(jQuery("#element-"+n).closest(".wp-picker-container").find("a").first().css("background-color",i[n]),t.updateInput("name","element-"+n,"input",i[n])):(t.updateInput("name","element-"+n,"input",i[n]),ESG.C.gridEditorInputs["element-"+n].tpColorPicker());break;case"select":if(t.updateInput("name","element-"+n,"select",i[n]),"source"==n){"post"==i[n]?void 0!==i["source-post"]&&(t.updateInput("name","element-source-post","select",i["source-post"]),"cat_list"!=i["source-post"]&&"tag_list"!=i["source-post"]&&"taxonomy"!=i["source-post"]||(ESG.C.gridEditorInputs["esg-cat-tag-settings"].show(),ESG.C.gridEditorInputs["eg-source-limit-wrap"].hide(),ESG.C.gridEditorInputs["eg-source-functonality-wrap"].show()),"meta"==i["source-post"]&&(jQuery("#eg-source-meta-wrap").show(),void 0!==i["source-meta"]&&t.updateInput("name","element-source-meta","input",i["source-meta"]))):"event"==i[n]?void 0!==i["source-event"]&&t.updateInput("name","element-source-event","select",i["source-event"]):"woocommerce"==i[n]?void 0!==i["source-woocommerce"]&&(t.updateInput("name","element-source-woocommerce","select",i["source-woocommerce"]),"wc_categories"==i["source-woocommerce"]&&(ESG.C.gridEditorInputs["esg-cat-tag-settings"].show(),ESG.C.gridEditorInputs["eg-source-limit-wrap"].hide(),ESG.C.gridEditorInputs["eg-source-functonality-wrap"].show())):"icon"==i[n]?void 0!==i["source-icon"]&&(t.updateInput("name","element-source-icon","input",i["source-icon"]),jQuery("#eg-preview-icon").html('<i class="'+i["source-icon"]+'"></i>')):"text"==i[n]&&void 0!==i["source-text"]&&t.updateInput("name","element-source-text","textarea",i["source-text"])}else if("link-type"==n)void 0!==i["link-type-url"]&&t.updateInput("name","element-url-link","input",i["link-type-url"]),void 0!==i["link-type-meta"]&&t.updateInput("name","element-url-link","input",i["link-type-meta"]),void 0!==i["link-type-javascript"]&&t.updateInput("name","element-javascript-link","input",i["link-type-javascript"]),void 0!==i["link-type-sharefacebook"]&&(t.updateInput("name","element-facebook-sharing-link","select",i["link-type-sharefacebook"]),t.updateInput("name","element-facebook-link-url","input",i["element-facebook-link-url"])),void 0!==i["link-type-sharegplus"]&&(t.updateInput("name","element-gplus-sharing-link","select",i["link-type-sharegplus"]),t.updateInput("name","element-gplus-link-url","input",i["element-gplus-link-url"])),void 0!==i["link-type-sharepinterest"]&&(t.updateInput("name","element-pinterest-sharing-link","select",i["link-type-sharepinterest"]),t.updateInput("name","element-pinterest-link-url","input",i["element-pinterest-link-url"]),t.updateInput("name","element-pinterest-description","textarea",i["link-type-sharepinterest-description"])),void 0!==i["link-type-sharetwitter"]&&(t.updateInput("name","element-twitter-sharing-link","select",i["link-type-sharetwitter"]),t.updateInput("name","element-twitter-link-url","input",i["element-twitter-link-url"]),t.updateInput("name","element-twitter-text-before","input",i["link-type-sharetwitter-text-before"]),t.updateInput("name","element-twitter-text-after","input",i["link-type-sharetwitter-text-after"]));else if("text-align"==n||"float"==n)"block"==jQuery('input[name="element-display"]').val()?"float"==n&&t.updateInput("name","element-"+n,"select","none"):"text-align"==n&&t.updateInput("name","element-"+n,"select","center");else if("background-size"==n)void 0!==i["background-size-x"]&&t.updateInput("name","element-background-size-x","input",i["background-size-x"]),void 0!==i["background-size-y"]&&t.updateInput("name","element-background-size-y","input",i["background-size-y"]),"%"==i["background-size"]&&jQuery("#background-size-percent-wrap").css("display","inline-block");else if("align"==n&&(void 0!==i["absolute-unit"]&&t.updateInput("name","element-absolute-unit","select",i["absolute-unit"]),void 0!==i.align))switch(i.align){case"t_l":ESG.C.gridEditorInputs["eg-t_b_align"].text(eg_lang.top),ESG.C.gridEditorInputs["eg-l_r_align"].text(eg_lang.left);break;case"t_r":ESG.C.gridEditorInputs["eg-t_b_align"].text(eg_lang.top),ESG.C.gridEditorInputs["eg-l_r_align"].text(eg_lang.right);break;case"b_l":ESG.C.gridEditorInputs["eg-t_b_align"].text(eg_lang.bottom),ESG.C.gridEditorInputs["eg-l_r_align"].text(eg_lang.left);break;case"b_r":ESG.C.gridEditorInputs["eg-t_b_align"].text(eg_lang.bottom),ESG.C.gridEditorInputs["eg-l_r_align"].text(eg_lang.right)}break;case"checkbox":i[n]==t.updateInput("name","element-"+n,"input")?ESG.C.gridEditorInputs["element-"+n].prop("checked",!0):ESG.C.gridEditorInputs["element-"+n].prop("checked",!1);break;case"multi-text":var r=0;jQuery('input[name="element-'+n+'[]"]').each(function(){jQuery(this).val(i[n][r]),r++});break;default:t.updateInput("name","element-"+n,"input",i[n])}t.updateInput("name","element-"+n+"-unit","select",i[n+"-unit"])}}!0!==ESG.S.socSharingGridEditor&&(jQuery('select[name="element-facebook-sharing-link"]').change(function(){"custom"==jQuery('select[name="element-facebook-sharing-link"]').val()?ESG.C.gridEditorInputs["eg-element-facebook_link_custom"].show():ESG.C.gridEditorInputs["eg-element-facebook_link_custom"].hide()}),jQuery('select[name="element-gplus-sharing-link"]').change(function(){"custom"==jQuery('select[name="element-gplus-sharing-link"]').val()?ESG.C.gridEditorInputs["eg-element-gplus_link_custom"].show():ESG.C.gridEditorInputs["eg-element-gplus_link_custom"].hide()}),jQuery('select[name="element-pinterest-sharing-link"]').change(function(){"custom"==jQuery('select[name="element-pinterest-sharing-link"]').val()?ESG.C.gridEditorInputs["eg-element-pinterest_link_custom"].show():ESG.C.gridEditorInputs["eg-element-pinterest_link_custom"].hide()}),jQuery('select[name="element-twitter-sharing-link"]').change(function(){"custom"==jQuery('select[name="element-twitter-sharing-link"]').val()?ESG.C.gridEditorInputs["eg-element-twitter_link_custom"].show():ESG.C.gridEditorInputs["eg-element-twitter_link_custom"].hide()}))},t.reset_style_by_position=function(){var e=t.updateInput("name","element-position","select");if(ESG.C.gridEditorInputs["eg-show-on-absolute"]=void 0===ESG.C.gridEditorInputs["eg-show-on-absolute"]?jQuery("#eg-show-on-absolute"):ESG.C.gridEditorInputs["eg-show-on-absolute"],ESG.C.gridEditorInputs["eg-show-on-relative"]=void 0===ESG.C.gridEditorInputs["eg-show-on-relative"]?jQuery("#eg-show-on-relative"):ESG.C.gridEditorInputs["eg-show-on-relative"],"absolute"==e)ESG.C.gridEditorInputs["eg-show-on-absolute"].css("display","block"),ESG.C.gridEditorInputs["eg-show-on-relative"].css("display","none"),n.hasClass("ui-draggable")||(jQuery(n).appendTo("#skin-dz-wrapper"),t.set_absolute_positioning());else{var i=n.data("id");for(var r in a)if(a[r].id==i){n.hasClass("ui-draggable")&&(n.appendTo("#skin-dz-"+a[r].container),n.removeClass("ui-draggable"),n.css("top","auto"),n.css("right","auto"),n.css("bottom","auto"),n.css("left","auto"),n.draggable("destroy"),t.update_layer_sorting());break}ESG.C.gridEditorInputs["eg-show-on-absolute"].css("display","none"),ESG.C.gridEditorInputs["eg-show-on-relative"].css("display","block")}},t.get_setting_values=function(){if(null==n)return!1;var e=n.data("id");for(var i in t.reset_style_by_position(),a)if(a[i].id==e){for(var r in s){var l=a[i].settings[r];if("checkbox"==s[r].type)a[i].settings[r]=jQuery('input[name="element-'+r+'"]').is(":checked")?jQuery('input[name="element-'+r+'"]').val():"";else if("select"==s[r].type)if(a[i].settings[r]=t.updateInput("name","element-"+r,"select"),"source"==r)switch(delete a[i].settings["source-event"],delete a[i].settings["source-woocommerce"],delete a[i].settings["source-icon"],delete a[i].settings["source-text"],delete a[i].settings["source-post"],delete a[i].settings["source-meta"],a[i].settings[r]){case"event":a[i].settings["source-event"]=t.updateInput("name","element-source-event","select");break;case"woocommerce":a[i].settings["source-woocommerce"]=t.updateInput("name","element-source-woocommerce","select");break;case"icon":a[i].settings["source-icon"]=t.updateInput("name","element-source-icon","input");break;case"text":a[i].settings["source-text"]=t.updateInput("name","element-source-text","textarea");break;case"post":default:a[i].settings["source-taxonomy"]=t.updateInput("name","element-source-taxonomy","select"),a[i].settings["source-post"]=t.updateInput("name","element-source-post","select"),"meta"==a[i].settings["source-post"]&&(a[i].settings["source-meta"]=t.updateInput("name","element-source-meta","input"))}else if("link-type"==r)switch(delete a[i].settings["link-type-url"],delete a[i].settings["link-type-meta"],delete a[i].settings["link-type-javascript"],delete a[i].settings["link-type-sharefacebook"],delete a[i].settings["link-type-sharegplus"],delete a[i].settings["link-type-sharepinterest"],delete a[i].settings["link-type-sharetwitter"],a[i].settings[r]){case"post":case"lightbox":case"embedded_media":break;case"url":a[i].settings["link-type-url"]=t.updateInput("name","element-url-link","input");break;case"meta":a[i].settings["link-type-meta"]=t.updateInput("name","element-meta-link","input");break;case"javascript":a[i].settings["link-type-javascript"]=t.updateInput("name","element-javascript-link","input");break;case"sharefacebook":a[i].settings["link-type-sharefacebook"]=t.updateInput("name","element-facebook-sharing-link","select"),a[i].settings["link-type-sharefacebook-custom-url"]=t.updateInput("name","element-facebook-link-url","input");break;case"sharegplus":a[i].settings["link-type-sharegplus"]=t.updateInput("name","element-gplus-sharing-link","select"),a[i].settings["link-type-sharegplus-custom-url"]=t.updateInput("name","element-gplus-link-url","input");break;case"sharepinterest":a[i].settings["link-type-sharepinterest"]=t.updateInput("name","element-pinterest-sharing-link","select"),a[i].settings["link-type-sharepinterest-custom-url"]=t.updateInput("name","element-pinterest-link-url","input"),a[i].settings["link-type-sharepinterest-description"]=t.updateInput("name","element-pinterest-description","input");break;case"sharetwitter":a[i].settings["link-type-sharetwitter"]=t.updateInput("name","element-twitter-sharing-link","select"),a[i].settings["link-type-sharetwitter-custom-url"]=t.updateInput("name","element-twitter-link-url","input"),a[i].settings["link-type-sharetwitter-text-before"]=t.updateInput("name","element-twitter-text-before","input"),a[i].settings["link-type-sharetwitter-text-after"]=t.updateInput("name","element-twitter-text-after","input")}else"background-size"==r?(delete a[i].settings["background-size-x"],delete a[i].settings["background-size-y"],"%"==a[i].settings[r]&&(a[i].settings["background-size-x"]=t.updateInput("name","element-background-size-x","input"),a[i].settings["background-size-y"]=t.updateInput("name","element-background-size-y","input"))):"align"==r&&(a[i].settings["absolute-unit"]=t.updateInput("name","element-absolute-unit","select"));else if("multi-text"==s[r].type){var u={},d=0;jQuery('input[name="element-'+r+'[]"]').each(function(){u[d]=jQuery(this).val(),d++}),a[i].settings[r]=u}else a[i].settings[r]=t.updateInput("name","element-"+r,"input");if(a[i].settings[r+"-unit"]=t.updateInput("name","element-"+r+"-unit","select"),l!==a[i].settings[r]&&void 0!==l)if("multi-text"==s[r].type){var c="",p="",g=!0,m=!0;for(var y in a[i].settings[r])g||(c+=","),c+=a[i].settings[r][y],g=!1;for(var y in l)m||(p+=","),p+=l[y],m=!1;p!=c&&(o=!0)}else o=!0;"transition"==r&&t.check_no_transition(a[i].settings[r])}break}},t.set_setting_values=function(){if(null==n)return!1;var e=n.data("id");for(var i in a)if(a[i].id==e){for(var r in s)if(void 0!==a[i].settings&&void 0!==a[i].settings[r]){if("checkbox"==s[r].type)a[i].settings[r]==jQuery('input[name="element-'+r+'"]').val()||"true"==a[i].settings[r]&&"on"==jQuery('input[name="element-'+r+'"]').val()?jQuery('input[name="element-'+r+'"]').prop("checked",!0):jQuery('input[name="element-'+r+'"]').prop("checked",!1);else if("colorpicker"==s[r].type)"undefined"==typeof RevColor?(t.updateInput("name","element-"+r,"input",a[i].settings[r]),jQuery("#element-"+r).closest(".wp-picker-container").find("a").first().css("background-color",jQuery('input[name="element-'+r+'"]').val())):(t.updateInput("name","element-"+r,"input",a[i].settings[r]),ESG.C.gridEditorInputs["element-"+r].tpColorPicker());else if("slider"==s[r].type||"text-slider"==s[r].type)jQuery('input[name="element-'+r+'"]').val(a[i].settings[r]),jQuery("#element-"+r).slider({value:jQuery('input[name="element-'+r+'"]').val()}),jQuery("body").trigger("esgslide",jQuery("#element-"+r));else if("select"==s[r].type)if(t.updateInput("name","element-"+r,"select",a[i].settings[r]),"source"==r)switch(jQuery(".elements-select-wrap").hide(),a[i].settings[r]){case"event":ESG.C.gridEditorInputs["eg-source-limit-wrap"].show(),ESG.C.gridEditorInputs["element-source-event"].show(),t.updateInput("name","element-source-event","select",a[i].settings["source-event"]);break;case"woocommerce":ESG.C.gridEditorInputs["eg-source-limit-wrap"].show(),ESG.C.gridEditorInputs["element-source-woocommerce"].show(),t.updateInput("name","element-source-woocommerce","select",a[i].settings["source-woocommerce"]);break;case"icon":ESG.C.gridEditorInputs["eg-source-icon-wrap"].show(),t.updateInput("name","element-source-icon","input",a[i].settings["source-icon"]),jQuery("#eg-preview-icon").html('<i class="'+a[i].settings["source-icon"]+'"></i>');break;case"text":void 0!==typeof a[i].settings.special&&"true"==a[i].settings.special&&void 0!==typeof a[i].settings["special-type"]&&"blank-element"==a[i].settings["special-type"]?jQuery("#eg-source-text-style-disable-wrap").hide():jQuery("#eg-source-text-style-disable-wrap").show(),jQuery("#eg-source-text-wrap").show(),t.updateInput("name","element-source-text","textarea",a[i].settings["source-text"]);break;case"post":default:ESG.C.gridEditorInputs["eg-source-limit-wrap"].show(),jQuery('select[name="element-source-post"]').show(),"source-taxonomy"in a[i].settings&&t.updateInput("name","element-source-taxonomy","select",a[i].settings["source-taxonomy"]),jQuery('select[name="element-source-post"] option[value="'+a[i].settings["source-post"]+'"]').prop("selected","selected"),"meta"==a[i].settings["source-post"]&&t.updateInput("name","element-source-meta","input",a[i].settings["source-meta"])}else if("link-type"==r)switch(ESG.C.gridEditorInputs["eg-element-post-url-wrap"].hide(),ESG.C.gridEditorInputs["eg-element-post-meta-wrap"].hide(),ESG.C.gridEditorInputs["eg-element-post-javascript-wrap"].hide(),ESG.C.gridEditorInputs["eg-element-link-details-wrap"].show(),ESG.C.gridEditorInputs["eg-element-facebook-wrap"].hide(),ESG.C.gridEditorInputs["eg-element-gplus-wrap"].hide(),ESG.C.gridEditorInputs["eg-element-pinterest-wrap"].hide(),ESG.C.gridEditorInputs["eg-element-twitter-wrap"].hide(),a[i].settings[r]){case"post":case"lightbox":case"embedded_media":break;case"url":ESG.C.gridEditorInputs["eg-element-post-url-wrap"].show(),t.updateInput("name","element-url-link","input",a[i].settings["link-type-url"]);break;case"meta":ESG.C.gridEditorInputs["eg-element-post-meta-wrap"].show(),t.updateInput("name","element-meta-link","input",a[i].settings["link-type-meta"]);break;case"javascript":ESG.C.gridEditorInputs["eg-element-post-javascript-wrap"].show(),t.updateInput("name","element-javascript-link","input",a[i].settings["link-type-javascript"]);break;case"sharefacebook":ESG.C.gridEditorInputs["eg-element-link-details-wrap"].hide(),ESG.C.gridEditorInputs["eg-element-facebook-wrap"].show(),t.updateInput("name","element-facebook-sharing-link","select",a[i].settings["link-type-sharefacebook"]),t.updateInput("name","element-facebook-link-link","input",a[i].settings["link-type-sharefacebook-custom-url"]),"custom"==t.updateInput("name","element-facebook-sharing-link","select")?ESG.C.gridEditorInputs["eg-element-facebook_link_custom"].show():ESG.C.gridEditorInputs["eg-element-facebook_link_custom"].hide();break;case"sharegplus":ESG.C.gridEditorInputs["eg-element-link-details-wrap"].hide(),ESG.C.gridEditorInputs["eg-element-gplus-wrap"].show(),t.updateInput("name","element-gplus-sharing-link","select",a[i].settings["link-type-sharegplus"]),t.updateInput("name","element-gplus-link-url","input",a[i].settings["link-type-sharegplus-custom-url"]),"custom"==t.updateInput("name","element-gplus-sharing-link","select")?ESG.C.gridEditorInputs["eg-element-gplus_link_custom"].show():ESG.C.gridEditorInputs["eg-element-gplus_link_custom"].hide();break;case"sharepinterest":ESG.C.gridEditorInputs["eg-element-link-details-wrap"].hide(),ESG.C.gridEditorInputs["eg-element-pinterest-wrap"].show(),t.updateInput("name","element-pinterest-sharing-link","select",a[i].settings["link-type-sharepinterest"]),t.updateInput("name","element-pinterest-link-url","input",a[i].settings["link-type-sharepinterest-custom-url"]),t.updateInput("name","element-pinterest-description","textarea",a[i].settings["link-type-sharepinterest-description"]),"custom"==t.updateInput("name","element-pinterest-sharing-link","select")?ESG.C.gridEditorInputs["eg-element-pinterest_link_custom"].show():ESG.C.gridEditorInputs["eg-element-pinterest_link_custom"].hide();break;case"sharetwitter":ESG.C.gridEditorInputs["eg-element-link-details-wrap"].hide(),ESG.C.gridEditorInputs["eg-element-twitter-wrap"].show(),t.updateInput("name","element-twitter-sharing-link","select",a[i].settings["link-type-sharetwitter"]),t.updateInput("name","element-twitter-link-url","input",a[i].settings["link-type-sharetwitter-custom-url"]),t.updateInput("name","element-twitter-text-before","input",a[i].settings["link-type-sharetwitter-text-before"]),t.updateInput("name","element-twitter-text-after","input",a[i].settings["link-type-sharetwitter-text-after"]),"custom"==t.updateInput("name","element-twitter-sharing-link","select")?ESG.C.gridEditorInputs["eg-element-twitter_link_custom"].show():ESG.C.gridEditorInputs["eg-element-twitter_link_custom"].hide()}else if("display"==r)switch(jQuery("#element-text-align-wrap").hide(),jQuery("#element-float-wrap").hide(),a[i].settings[r]){case"block":jQuery("#element-text-align-wrap").show();break;case"inline-block":jQuery("#element-float-wrap").show()}else"background-size"==r?"%"==a[i][r]&&(jQuery("#background-size-percent-wrap").css("display","inline-block"),t.updateInput("name","element-background-size-x","input",a[i].settings["background-size-x"]),t.updateInput("name","element-background-size-y","input",a[i].settings["background-size-y"])):"align"==r&&t.updateInput("name","element-absolute-unit","select",a[i].settings["absolute-unit"]);else if("multi-text"==s[r].type){var o=0;jQuery('input[name="element-'+r+'[]"]').each(function(){jQuery(this).val(a[i].settings[r][o]),o++})}else t.updateInput("name","element-"+r,"input",a[i].settings[r]);t.updateInput("name","element-"+r+"-unit","input",a[i].settings[r+"-unit"])}break}},t.set_setting_styles=function(){if(null==n)return!1;var e=n.data("id");for(var i in a)if(a[i].id==e){t.set_inline_styles(n,a[i].settings),found=!0;break}},t.set_inline_styles=function(e,t,n){var i=jQuery("#eg-inline-style-wrapper");if("eg-line-break"==e.data("handle")||"eg-blank-element"==e.data("handle"))return!0;var r=[],a=[];if("text"==t.source&&void 0!==t["source-text-style-disable"]&&"on"==t["source-text-style-disable"]);else{var o="",l=!1;for(var u in"true"==t["force-important"]&&(o=" !important"),"on"==t["enable-hover"]&&(l=!0),s){if(void 0!==n){if("margin"==u)continue;if("position"==u)continue}var d=s[u].style;if("hover"==d)switch(u){case"display":case"text-align":case"float":case"clear":case"margin":case"padding":break;default:if(s[u].style!=d)continue}if(("idle"==s[u].style||"hover"==s[u].style)&&((l||"hover"!=s[u].style)&&void 0!==t[u])){var c="idle"==d?u:u.replace("-hover","");if("multi-text"==s[u].type){void 0===t[u+"-unit"]&&(t[u+"-unit"]="px");var p=t[u+"-unit"];if("border-radius"==c)"idle"==d?(r.push("border-top-left-radius: "+t[u][0]+p+o+";"),r.push("border-top-right-radius: "+t[u][1]+p+o+";"),r.push("border-bottom-right-radius: "+t[u][2]+p+o+";"),r.push("border-bottom-left-radius: "+t[u][3]+p+o+";")):(a.push("border-top-left-radius: "+t[u][0]+p+o+";"),a.push("border-top-right-radius: "+t[u][1]+p+o+";"),a.push("border-bottom-right-radius: "+t[u][2]+p+o+";"),a.push("border-bottom-left-radius: "+t[u][3]+p+o+";"));else if("border"==c)"idle"==d?(r.push("border-top: "+t[u][0]+p+o+";"),r.push("border-right: "+t[u][1]+p+o+";"),r.push("border-bottom: "+t[u][2]+p+o+";"),r.push("border-left: "+t[u][3]+p+o+";")):(a.push("border-top: "+t[u][0]+p+o+";"),a.push("border-right: "+t[u][1]+p+o+";"),a.push("border-bottom: "+t[u][2]+p+o+";"),a.push("border-left: "+t[u][3]+p+o+";"));else if("box-shadow"==c||"background-color"==c){var g="";for(var m in t[u])g+=t[u][m]+p+" ";g+=" "+("idle"==d?t["shadow-color"]:t["shadow-color-hover"]),"idle"==d?(r.push("-moz-"+c+": "+g+o+";"),r.push("-webkit-"+c+": "+g+o+";"),r.push(c+": "+g+o+";")):(a.push("-moz-"+c+": "+g+o+";"),a.push("-webkit-"+c+": "+g+o+";"),a.push(c+": "+g+o+";"))}else{g="";for(var m in t[u])g+=t[u][m]+p+" ";"idle"==d?r.push(c+": "+g+o+";"):a.push(c+": "+g+o+";")}}else if("background-color"==c){var y=t[u];"undefined"!=typeof RevColor&&(y=RevColor.get(y)),"idle"==d?r.push("background: "+y+o+";"):a.push("background: "+y+o+";")}else{if("border"==c&&("idle"==d?r.push("border-style: solid"+o+";"):a.push("border-style: solid"+o+";")),"font-style"==c&&"true"==t[u]&&(t[u]="italic"+o+";"),null==(p=s[u].unit)&&(p=""),""==t[u])continue;if("idle"==d){if("display"==c?r.push(c+": "+t[u]+p+" !important;"):r.push(c+": "+t[u]+p+o+";"),"position"==c&&"absolute"==t[u]){r.push("height: auto"+o+";"),r.push("width: auto"+o+";"),r.push("white-space: nowrap"+o+";");var h="NaN"==t["left-right"]?0:t["left-right"],v="NaN"==t["top-bottom"]?0:t["top-bottom"];switch(t.align){case"t_l":r.push("top: "+v+t["absolute-unit"]+";"),r.push("left: "+h+t["absolute-unit"]+";"),r.push("bottom:auto;"),r.push("right:auto;");break;case"t_r":r.push("top: "+v+t["absolute-unit"]+";"),r.push("right: "+h+t["absolute-unit"]+";"),r.push("bottom:auto;"),r.push("left:auto;");break;case"b_l":r.push("bottom: "+v+t["absolute-unit"]+";"),r.push("left: "+h+t["absolute-unit"]+";"),r.push("top:auto;"),r.push("right:auto;");break;case"b_r":r.push("bottom: "+v+t["absolute-unit"]+";"),r.push("right: "+h+t["absolute-unit"]+";"),r.push("top:auto;"),r.push("left:auto;")}}}else a.push(c+": "+t[u]+p+o+";")}}}}var f='<style type="text/css" id="eg-element-style-'+e.data("handle")+'">\n';if(r.length>0){for(var j in f+='.skin-dz-elements[data-handle="'+e.data("handle")+'"] {\n',r)f+=r[j]+"\n";f+="}\n"}if(a.length>0){for(var _ in f+='.skin-dz-elements[data-handle="'+e.data("handle")+'"]:hover {\n',a)f+=a[_]+"\n";f+="}\n"}f+="</style>\n",jQuery("#eg-element-style-"+e.data("handle")).length>0&&jQuery("#eg-element-style-"+e.data("handle")).remove(),i.append(f)},t.set_global_inline_styles=function(){var e=jQuery("#eg-inline-style-wrapper");jQuery("#eg-global-inline-styles").length>0&&jQuery("#eg-global-inline-styles").remove(),html='<style type="text/css" id="eg-global-inline-styles">\n',html+=eg_codemirror_global_css.getValue(),html+="</style>\n",o=!0,e.append(html)},t.set_setting_attributes=function(){if(null==n)return!1;var e=n.data("id");for(var t in a)if(a[t].id==e)for(var i in s)if("attribute"===s[i].style)if("delay"==i){var r=a[t].settings[i];r>0&&(r/=100),n.data("delay",r)}else if("duration"==i){var o=a[t].settings[i];n.data("duration",o)}else if("transition"==i){var l=n.attr("class").split(" ");for(var u in l)-1!==l[u].indexOf("esg-")&&n.removeClass(l[u]);void 0===a[t].settings["transition-type"]&&(a[t].settings["transition-type"]=""),n.addClass("esg-"+a[t].settings[i]+a[t].settings["transition-type"])}},t.set_setting_caption=function(){if(null==n)return!1;var e=n.data("id"),t="";for(var i in a)if(a[i].id==e){if(void 0!==typeof a[i].settings.special&&"true"==a[i].settings.special&&void 0!==typeof a[i].settings["special-type"]&&"blank-element"==a[i].settings["special-type"])return n.html("&nbsp;"),!0;switch(a[i].settings.source){case"icon":if(void 0!==a[i].settings["source-icon"])t='<i class="'+a[i].settings["source-icon"]+'"></i>';break;case"text":if(void 0!==a[i].settings["source-text"])t=a[i].settings["source-text"];break;case"event":if(void 0!==a[i].settings["source-event"])t=a[i].settings["source-event"];break;case"woocommerce":if(void 0!==a[i].settings["source-woocommerce"])t=a[i].settings["source-woocommerce"];break;case"post":default:if(void 0!==a[i].settings["source-post"])t=a[i].settings["source-post"]}if("post"==a[i].settings.source||"event"==a[i].settings.source||"woocommerce"==a[i].settings.source)switch(""==t&&(t="title",a[i].settings.source="post"),t){case"wc_full_price":t=eg_lang.full_price;break;case"wc_price":t=eg_lang.regular_price;break;case"wc_price_no_cur":t=eg_lang.regular_price_no_cur;break;default:t=jQuery('select[name="element-source-'+a[i].settings.source+'"] option[value="'+t+'"]').text()}n.html(t);break}},t.propagate_layer_styles=function(e,t){if(void 0===r[e])return!1;for(var n in r[e].settings)a[t].settings[n]=r[e].settings[n]},t.propagate_element_selector=function(){for(var e in jQuery("#element-settings-current-name").html(""),a){var t="";switch(a[e].settings.source){case"icon":t=a[e].settings["source-icon"];break;case"post":t=jQuery('select[name="element-source-post"] option[value="'+a[e].settings["source-post"]+'"]').text();break;case"event":t=jQuery('select[name="element-source-event"] option[value="'+a[e].settings["source-event"]+'"]').text();break;case"woocommerce":t=jQuery('select[name="element-source-woocommerce"] option[value="'+a[e].settings["source-woocommerce"]+'"]').text();break;case"text":t=a[e].settings["source-text"].replace(/(<([^>]+)>)/gi,"")}jQuery("#element-settings-current-name").append(jQuery("<option>",{value:a[e].id,text:t}))}if(jQuery("#element-settings-current-name option").each(function(){jQuery(this).removeAttr("selected")}),null!==n){jQuery('#element-settings-current-name option[value="'+n.data("id")+'"]').prop("selected","selected"),jQuery("#element-settings-current-name").parent().show();var i="text"==jQuery('select[name="element-source"] option:selected').val()&&"checked"==jQuery('input[name="element-source-text-style-disable"]').prop("checked")?"-nostyle":"";jQuery(".eg-element-class-setter").text(eg_lang.class_name+" .eg-"+jQuery("#eg-item-skin-slug").text()+i+"-element-"+n.data("id"))}else jQuery(".eg-element-class-setter").text("");var r=!0;for(var s in a)if(null!=a[s]){r=!1;break}r&&jQuery("#element-settings-current-name").parent().hide()},t.propagate_default_element_styles=function(){for(var n in r)if(void 0!==r[n].settings){var i=jQuery('.mainul .skin-dz-elements[data-handle="'+n+'"]');jQuery.isEmptyObject(i)||i.each(function(){t.set_inline_styles(jQuery(this),r[n].settings,!0)})}e.esreinit(),t.set_default_elements_draggable()},t.select_layer=function(e){jQuery("#eg-dz-hover-wrap .skin-dz-elements").removeClass("selected"),jQuery(".skin-dz-elements").each(function(t){var i=jQuery(this);if(null!=i&&null!=i.data("id")&&i.data("id").toString()===e.toString())return n=i,!0});var i=document.getElementById("always-visible-options");if(i){var r=n.closest("#skin-dz-m-wrap").length?"none":"block";i.style.display=r}n.addClass("selected"),t.set_default_values(e),t.set_setting_values(),t.show_toolbar(),t.select_element_editor_name(),jQuery('select[name="element-source"]').change()},t.delete_layer=function(e){jQuery("#eg-dz-hover-wrap .skin-dz-elements").removeClass("selected"),"object"!=typeof e&&(e=jQuery('.skin-dz-elements[data-id="'+e+'"]'));var i=e.data("id");for(var r in e.remove(),a)if(a[r].id==i){delete a[r];break}n=null;if(a.length>0)for(var r in a)if(null!=typeof a[r].id){t.select_layer(a[r].id);break}null==n&&t.show_empty_toolbar(),t.change_bg_color(),t.propagate_element_selector(),t.redraw_container_height(),AdminEssentials.adjustDropHeights()},t.show_toolbar=function(){if(null==n)return!1;var e=!1;for(var i in jQuery("#settings-dz-elements-wrapper").show(),jQuery(".eg-hide-on-special").show(),jQuery("#element-save-as-button").show(),a)if(a[i].handle==n.data("handle")){if(void 0!==typeof a[i].settings.special&&"true"==a[i].settings.special){if(void 0!==typeof a[i].settings["special-type"])switch(a[i].settings["special-type"]){case"blank-element":jQuery(".eg-hide-on-blank-element").hide(),jQuery("#element-save-as-button").hide(),jQuery(".eg-source-li>a").click();break;case"line-break":default:jQuery("#settings-dz-elements-wrapper").hide(),jQuery("#element-save-as-button").hide()}}else jQuery("#settings-dz-elements-wrapper").show(),jQuery(".eg-hide-on-special").show(),jQuery("#element-save-as-button").show();t.hide_empty_toolbar(),e=!0;break}e||t.show_empty_toolbar()},t.show_empty_toolbar=function(){jQuery("#element-setting-wrap-alternative").css("display","block"),jQuery("#element-setting-wrap-top").css("display","none")},t.hide_empty_toolbar=function(){jQuery("#element-setting-wrap-alternative").css("display","none"),jQuery("#element-setting-wrap-top").css("display","block")},t.select_element_editor_name=function(){if(null==n)return!1;var e=n.data("id");jQuery("#element-settings-current-name option").each(function(){jQuery(this).removeAttr("selected")}),jQuery('#element-settings-current-name option[value="'+e+'"]').prop("selected","selected")},t.get_latest_id=function(){var e=-1;for(var t in a)parseInt(a[t].id)>e&&(e=parseInt(a[t].id));return parseInt(jQuery('input[name="eg-item-skin-element-last-id"]').val())>parseInt(e)&&(e=jQuery('input[name="eg-item-skin-element-last-id"]').val()),parseInt(e)},t.output_setting_data=function(){var e=[];for(var t in a)""!=a[t]&&(null==a[t].order&&(a[t].order="0"),e[t]={},e[t].id=a[t].id,e[t].order=a[t].order,e[t].container=a[t].container,e[t].settings=a[t].settings);return e},t.create_elements_by_data=function(e){var s=0,o=[];if(void 0===e&&(e=i),null==e)return!1;for(var l in e)""!=e[l]&&(null==e[l].order&&(e[l].order="0"),null==e[l].container&&(e[l].container="c"),o[l]=jQuery.extend({},e[l]));for(var l in jQuery.isEmptyObject(o)||o.sort(t.sortByOrder),o){var u=!1;for(var d in r)if(d==o[l].handle){u=d;break}if(!1!==u)var c=o[l].handle,p=r[u].name;else{c=eg_lang.new_element_sanitize+"-"+s,p=eg_lang.new_element+" "+s;for(var g in i)i[g].id==o[l].id&&i[g].handle==o[l].handle&&(i[g].handle=c);o[l].handle=c,s++}var m=o[l].id,y="";if(void 0!==typeof o[l].settings.special&&"true"==o[l].settings.special)if(void 0!==typeof o[l].settings["special-type"])switch(o[l].settings["special-type"]){case"blank-element":y=" eg-special-blank-element";break;case"line-break":default:y=" eg-special-element"}else y=" eg-special-element";var h='<div class="skin-dz-elements'+y+'" data-id="'+m+'" data-handle="'+c+'">'+p+"</div>";jQuery("#skin-dz-"+o[l].container).append(h)}for(var v in a=o)n=jQuery('.skin-dz-elements[data-id="'+a[v].id+'"]'),t.set_setting_styles(),t.set_setting_caption(),t.set_setting_attributes(),void 0!==a[v].settings.position&&"absolute"==a[v].settings.position&&(jQuery(n).appendTo("#skin-dz-wrapper"),t.set_absolute_positioning());t.propagate_element_selector(),n=null,t.change_bg_color(),t.selet_first_layer(),t.redraw_container_height()},t.selet_first_layer=function(){var e=!1;for(var n in a)if(null!=a[n]){t.select_layer(a[n].id),e=!0;break}e||t.show_empty_toolbar()},t.add_animation_classes=function(){var e=jQuery("#skin-dz-c-wrap .eg-element-cover"),t=jQuery("#skin-dz-tl-wrap .eg-element-cover"),n=jQuery("#skin-dz-br-wrap .eg-element-cover");e.removeClass().addClass("eg-element-cover"),t.removeClass().addClass("eg-element-cover"),n.removeClass().addClass("eg-element-cover"),e.removeAttr("data-delay"),t.removeAttr("data-delay"),n.removeAttr("data-delay"),e.data("delay",null),t.data("delay",null),n.data("delay",null),e.removeAttr("data-duration"),t.removeAttr("data-duration"),n.removeAttr("data-duration"),e.data("duration",null),t.data("duration",null),n.data("duration",null),jQuery("#skin-dz-wrapper").removeClass().addClass("esg-"+jQuery('select[name="cover-group-animation"] option:selected').val()),jQuery("#skin-dz-media-bg").removeClass().addClass("esg-"+jQuery('select[name="media-animation"] option:selected').val()),jQuery("#skin-dz-wrapper").attr("data-delay",parseInt(jQuery('input[name="cover-group-animation-delay"]').val())/100),jQuery("#skin-dz-wrapper").attr("data-duration",jQuery('input[name="cover-group-animation-duration"]').val()),jQuery("#skin-dz-media-bg").attr("data-delay",parseInt(jQuery('input[name="media-animation-delay"]').val())/100),jQuery("#skin-dz-media-bg").attr("data-duration",jQuery('input[name="media-animation-duration"]').val()),jQuery("#skin-dz-wrapper").data("delay",parseInt(jQuery('input[name="cover-group-animation-delay"]').val())/100),jQuery("#skin-dz-media-bg").data("delay",parseInt(jQuery('input[name="media-animation-delay"]').val())/100),jQuery("#skin-dz-wrapper").data("duration",jQuery('input[name="cover-group-animation-duration"]').val()),jQuery("#skin-dz-media-bg").data("duration",jQuery('input[name="media-animation-duration"]').val()),"full"==jQuery('select[name="cover-type"] option:selected').val()?(e.addClass("esg-"+jQuery('select[name="cover-animation-center"] option:selected').val()+jQuery('select[name="cover-animation-center-type"] option:selected').val()),e.attr("data-delay",parseInt(jQuery('input[name="cover-animation-delay-center"]').val())/100),e.data("delay",parseInt(jQuery('input[name="cover-animation-delay-center"]').val())/100),e.attr("data-duration",jQuery('input[name="cover-animation-duration-center"]').val()),e.data("duration",jQuery('input[name="cover-animation-duration-center"]').val())):(t.addClass("esg-"+jQuery('select[name="cover-animation-top"] option:selected').val()+jQuery('select[name="cover-animation-top-type"] option:selected').val()),e.addClass("esg-"+jQuery('select[name="cover-animation-center"] option:selected').val()+jQuery('select[name="cover-animation-center-type"] option:selected').val()),n.addClass("esg-"+jQuery('select[name="cover-animation-bottom"] option:selected').val()+jQuery('select[name="cover-animation-bottom-type"] option:selected').val()),t.attr("data-delay",parseInt(jQuery('input[name="cover-animation-delay-top"]').val())/100),e.attr("data-delay",parseInt(jQuery('input[name="cover-animation-delay-center"]').val())/100),n.attr("data-delay",parseInt(jQuery('input[name="cover-animation-delay-bottom"]').val())/100),t.data("delay",parseInt(jQuery('input[name="cover-animation-delay-top"]').val())/100),e.data("delay",parseInt(jQuery('input[name="cover-animation-delay-center"]').val())/100),n.data("delay",parseInt(jQuery('input[name="cover-animation-delay-bottom"]').val())/100),t.attr("data-duration",jQuery('input[name="cover-animation-duration-top"]').val()),e.attr("data-duration",jQuery('input[name="cover-animation-duration-center"]').val()),n.attr("data-duration",jQuery('input[name="cover-animation-duration-bottom"]').val()),t.data("duration",jQuery('input[name="cover-animation-duration-top"]').val()),e.data("duration",jQuery('input[name="cover-animation-duration-center"]').val()),n.data("duration",jQuery('input[name="cover-animation-duration-bottom"]').val()))},t.refresh_predefined_elements=function(n){if(void 0===n)AdminEssentials.ajaxRequest("get_predefined_elements",{},"",function(e){t.refreshInitElements(e.data.elements),t.refresh_item_layout_elements(e.data.html),t.propagate_default_element_styles(),t.propagate_element_selector()});else{for(var i in r)if(n==i){delete r.handle;break}e.esredraw()}},t.refresh_item_layout_elements=function(e){jQuery(".mainul").html(""),jQuery(".mainul").html(e)},t.check_content_position=function(){var e=jQuery('select[name="show-content"] option:selected').val();jQuery("#skin-dz-m-wrap").show(),"none"==e?jQuery("#skin-dz-m-wrap").hide():"bottom"==e?jQuery("#skin-dz-m-wrap").appendTo(jQuery("#eg-dz-hover-wrap")):"top"==e&&jQuery("#skin-dz-m-wrap").prependTo(jQuery("#eg-dz-hover-wrap"))},t.set_absolute_positioning=function(){jQuery("#skin-dz-wrapper>.skin-dz-elements").draggable({containment:".eg-editor-inside-wrapper",drag:function(){jQuery(this).css({bottom:"auto",right:"auto"})}}),jQuery("#skin-dz-wrapper>.skin-dz-elements").on("dragstop",function(e,i){n.data("id")!==jQuery(this).data("id")&&t.select_layer(jQuery(this).data("id")),t.calculate_absolute_positioning(jQuery(this))})},t.calculate_absolute_positioning=function(e){var n=jQuery('input[name="element-top-bottom"]'),i=jQuery('input[name="element-left-right"]'),r=jQuery('select[name="element-absolute-unit"] option:selected').val(),a=(jQuery("#eg-dz-padding-wrapper").width(),jQuery("#eg-dz-padding-wrapper").height(),jQuery('select[name="element-align"] option:selected').val()),s=jQuery("#skin-dz-media-bg"),o=s.width(),l=s.height(),u=e.position().top,d=e.position().left,c=o-e.position().left-e.outerWidth(!0),p=l-e.position().top-e.outerHeight(!0);switch("%"==r&&(u=u/l*100,d=d/o*100,c=c/o*100,p=p/l*100),a){case"t_l":n.val(u),i.val(d);break;case"t_r":n.val(u),i.val(c);break;case"b_l":n.val(p),i.val(d);break;case"b_r":n.val(p),i.val(c)}t.setting_has_changed()},t.set_default_elements_draggable=function(){jQuery("#skin-dz-tl, #skin-dz-br, #skin-dz-c, #skin-dz-m, .skin-dz-elements, .eg-special-element, .eg-additional-element").disableSelection(),jQuery(".mainul .skin-dz-elements, .eg-special .eg-special-element, .eg-additional-element").draggable({connectToSortable:"#skin-dz-tl,#skin-dz-br,#skin-dz-c,#skin-dz-m",helper:"clone",revert:!1,appendTo:"#eg-wrap",drag:function(){AdminEssentials.whileDropOrSort(".skin-dz-elements.ui-draggable-dragging")},stop:function(){AdminEssentials.atDropStop()}}),jQuery(".eg-trashdropzone").droppable({accept:".mainul .skin-dz-elements",hoverClass:"eg-trashdropzone-hover",drop:function(e,n){if(confirm(eg_lang.really_delete_element_permanently)){var i={handle:n.draggable.data("handle")};AdminEssentials.ajaxRequest("delete_predefined_elements",i,".eg-trashdropzone",function(e){jQuery(n.draggable).closest("li").remove(),t.refresh_predefined_elements(n.draggable.data("handle"))})}}}),t.set_absolute_positioning(),jQuery(".drop-to-stylechange").droppable({accept:".mainul .skin-dz-elements",hoverClass:"eg-trashdropzone-hover",drop:function(e,i){if(null==n)return!1;var o={},l=i.draggable.data("handle");for(var u in r)if(u==l){o=jQuery.extend({},r[u].settings);break}var d=n.data("id");if(!jQuery.isEmptyObject(o))for(var c in a)if(a[c].id==d){for(var u in s)"idle"==s[u].style&&void 0!==o[u]&&(a[c].settings[u]=o[u],"multi-text"==s[u].type&&(void 0===o[u+"-unit"]&&(o[u+"-unit"]="px"),a[c].settings[u+"-unit"]=o[u+"-unit"]));t.select_layer(d),t.setting_has_changed();break}}})},t.redraw_container_height=function(){var e=jQuery("#eg-element-centerme-c"),t=jQuery("#skin-dz-wrapper");e.css({top:Math.round((t.height()-e.height())/2)+"px"})},t.redraw_container_width=function(){var e=jQuery("#eg-dz-hover-wrap"),t=400-parseInt(e.css("paddingLeft"),0)-parseInt(e.css("paddingRight"),0)-parseInt(e.css("borderLeftWidth"),0)-parseInt(e.css("borderRightWidth"),0);e.css("width",t),jQuery("#skin-dz-wrapper, #skin-dz-video-wrapper, #skin-dz-music-wrapper, #skin-dz-media-bg-wrapper").css("width",t)},t.change_bg_color=function(){var e=jQuery("#container-background-color"),t=e.attr("data-color")||e.val(),n=jQuery('select[name="cover-background-size"] option:selected').val(),i=jQuery('select[name="cover-background-repeat"] option:selected').val(),r="0"!=jQuery('input[name="cover-background-image"]').val()?jQuery('input[name="cover-background-image-url"]').val():"";jQuery(".esg-cc .eg-element-cover").css("background-color","transparent"),jQuery(".esg-tc .eg-element-cover").css("background-color","transparent"),jQuery(".esg-bc .eg-element-cover").css("background-color","transparent"),jQuery(".esg-cc .eg-element-cover").css("background-image",""),jQuery(".esg-tc .eg-element-cover").css("background-image",""),jQuery(".esg-bc .eg-element-cover").css("background-image",""),null==t&&(t="transparent"),"full"==jQuery('select[name="cover-type"] option:selected').val()?(jQuery(".esg-cc .eg-element-cover").css("background",t),""!==r&&jQuery(".esg-cc .eg-element-cover").css("background-image","url("+r+")"),jQuery(".esg-cc .eg-element-cover").css("background-size",n),jQuery(".esg-cc .eg-element-cover").css("background-repeat",i)):(jQuery.trim(jQuery("#skin-dz-c").html())&&(jQuery(".esg-cc .eg-element-cover").css("background",t),""!==r&&jQuery(".esg-cc .eg-element-cover").css("background-image","url("+r+")"),jQuery(".esg-cc .eg-element-cover").css("background-size",n),jQuery(".esg-cc .eg-element-cover").css("background-repeat",i)),jQuery.trim(jQuery("#skin-dz-tl").html())&&(jQuery(".esg-tc .eg-element-cover").css("background",t),""!==r&&jQuery(".esg-tc .eg-element-cover").css("background-image","url("+r+")"),jQuery(".esg-tc .eg-element-cover").css("background-size",n),jQuery(".esg-tc .eg-element-cover").css("background-repeat",i)),jQuery.trim(jQuery("#skin-dz-br").html())&&(""!==r?(jQuery(".esg-bc .eg-element-cover").css("background-image","url("+r+")"),jQuery(".esg-bc .eg-element-cover").css("background-size",n),jQuery(".esg-bc .eg-element-cover").css("background-repeat",i)):jQuery(".esg-bc .eg-element-cover").css("background",t))),jQuery(".eg-pa-coverring").css("background",t)},jQuery(".drop-to-stylereset").click(function(){if(null==n)return!1;var e=n.data("id");for(var i in a)if(a[i].id==e){for(var r in s){var o=r.replace("-hover","");"hover"==s[r].style&&("checkbox"==s[r].type?a[i].settings[r]=a[i].settings[o]:"select"==s[r].type?(a[i].settings[r]=a[i].settings[o],"background-size"==r&&(delete a[i].settings["background-size-x-hover"],delete a[i].settings["background-size-y-hover"],"%"==a[i].settings[o]&&(a[i].settings["background-size-x-hover"]=a[i].settings["element-background-size-x"],a[i].settings["background-size-y-hover"]=a[i].settings["element-background-size-y"]))):(s[r].type,a[i].settings[r]=a[i].settings[o]),void 0!==a[i].settings[o+"-unit"]&&(a[i].settings[o+"-unit-hover"]=a[i].settings[o+"-unit"]))}t.set_default_values(e),t.set_setting_values(),t.setting_has_changed();break}}),t.initGridEditor=function(i){var r;window.onbeforeunload=function(e){if(o){var t=eg_lang.leave_not_saved;return(e=e||window.event)&&(e.returnValue=t),t}},jQuery('input[name="element-font-family"]').autocomplete({source:l,minLength:0}),jQuery('input[name="element-font-family-hover"]').autocomplete({source:l,minLength:0}),jQuery('input[name="element-source-meta"]').autocomplete({source:d,minLength:0}),jQuery(".ar-meta-field").autocomplete({source:d,minLength:0}),jQuery('input[name="element-meta-link"]').autocomplete({source:d,minLength:0}),jQuery('input[name="link-meta-link"]').autocomplete({source:d,minLength:0}),jQuery('input[name="element-font-family"]').bind("autocompleteopen",function(){jQuery(this).data("is_open",!0)}),jQuery('input[name="element-font-family"]').bind("autocompleteclose",function(){jQuery(this).data("is_open",!1)}),jQuery('input[name="element-font-family"]').bind("autocompletechange",function(){t.setting_has_changed()}),jQuery('input[name="element-font-family-hover"]').bind("autocompleteopen",function(){jQuery(this).data("is_open",!0)}),jQuery('input[name="element-font-family-hover"]').bind("autocompleteclose",function(){jQuery(this).data("is_open",!1)}),jQuery('input[name="element-font-family-hover"]').bind("autocompletechange",function(){t.setting_has_changed()}),jQuery(".ar-meta-field").bind("autocompleteopen",function(){jQuery(this).data("is_open",!0)}),jQuery(".ar-meta-field").bind("autocompleteclose",function(){jQuery(this).data("is_open",!1)}),jQuery('input[name="element-source-meta"]').bind("autocompleteopen",function(){jQuery(this).data("is_open",!0)}),jQuery('input[name="element-source-meta"]').bind("autocompleteclose",function(){jQuery(this).data("is_open",!1)}),jQuery('input[name="element-source-meta"]').bind("autocompletechange",function(){t.setting_has_changed()}),jQuery('input[name="element-meta-link"]').bind("autocompleteopen",function(){jQuery(this).data("is_open",!0)}),jQuery('input[name="element-meta-link"]').bind("autocompleteclose",function(){jQuery(this).data("is_open",!1)}),jQuery('input[name="element-meta-link"]').bind("autocompletechange",function(){t.setting_has_changed()}),jQuery('input[name="link-meta-link"]').bind("autocompleteopen",function(){jQuery(this).data("is_open",!0)}),jQuery('input[name="link-meta-link"]').bind("autocompleteclose",function(){jQuery(this).data("is_open",!1)}),jQuery('input[name="link-meta-link"]').bind("autocompletechange",function(){t.setting_has_changed()}),jQuery("#button-open-font-family").click(function(e){e.stopPropagation(),1==jQuery('input[name="element-font-family"]').data("is_open")?jQuery('input[name="element-font-family"]').autocomplete("close"):jQuery('input[name="element-font-family"]').autocomplete("search","").data("ui-autocomplete")}),jQuery("#button-open-font-family-hover").click(function(e){e.stopPropagation(),1==jQuery('input[name="element-font-family-hover"]').data("is_open")?jQuery('input[name="element-font-family-hover"]').autocomplete("close"):jQuery('input[name="element-font-family-hover"]').autocomplete("search","").data("ui-autocomplete")}),jQuery("#button-open-meta-key").click(function(e){e.stopPropagation(),1==jQuery('input[name="element-source-meta"]').data("is_open")?jQuery('input[name="element-source-meta"]').autocomplete("close"):jQuery('input[name="element-source-meta"]').autocomplete("search","").data("ui-autocomplete")}),jQuery("#button-open-link-meta-key").click(function(e){e.stopPropagation(),1==jQuery('input[name="element-meta-link"]').data("is_open")?jQuery('input[name="element-meta-link"]').autocomplete("close"):jQuery('input[name="element-meta-link"]').autocomplete("search","").data("ui-autocomplete")}),jQuery(".ar-open-meta").click(function(e){if("disabled"!=jQuery(this).attr("disabled")){e.stopPropagation(),1==jQuery(this).closest("tr").find(".ar-meta-field").data("is_open")?jQuery(this).closest("tr").find(".ar-meta-field").autocomplete("close"):jQuery(this).closest("tr").find(".ar-meta-field").autocomplete("search","").data("ui-autocomplete");var t=jQuery(".ui-autocomplete");for(var n in t)t.hasOwnProperty(n)&&"object"==typeof t[n]&&"style"in t[n]&&t[n].style.setProperty("z-index","999999","important")}}),jQuery("#button-open-link-link-meta-key").click(function(e){e.stopPropagation(),1==jQuery('input[name="link-meta-link"]').data("is_open")?jQuery('input[name="link-meta-link"]').autocomplete("close"):jQuery('input[name="link-meta-link"]').autocomplete("search","").data("ui-autocomplete")}),jQuery("body").click(function(){jQuery('input[name="element-font-family"]').autocomplete("close"),jQuery('input[name="element-font-family-hover"]').autocomplete("close"),jQuery('input[name="element-source-meta"]').autocomplete("close"),jQuery('input[name="element-meta-link"]').autocomplete("close"),jQuery('input[name="link-meta-link"]').autocomplete("close"),jQuery(".ar-meta-field").autocomplete("close")}),jQuery(document).on("click",".eg-icon-chooser",function(){jQuery("#eg-fontello-icons-dialog-wrap").dialog("close");var e=this.className.replace("eg-icon-chooser ","");jQuery('input[name="element-source-icon"]').val(e),jQuery("#eg-preview-icon").html('<i class="'+e+'"></i>')}),jQuery(document).on("mouseenter",".eg-icon-chooser",function(){punchgs.TweenLite.to(this,.2,{zIndex:1e3,scale:1.5,transformPerspective:600,transformOrigin:"50% 50%"})}),jQuery(document).on("mouseleave",".eg-icon-chooser",function(){punchgs.TweenLite.to(this,.2,{zIndex:10,scale:1,transformPerspective:600,transformOrigin:"50% 50%"})}),jQuery(".eg-add-meta-to-textarea").click(function(){jQuery("#meta-dialog-wrap").dialog("close");var e=jQuery(this).find("td:first-child").text();jQuery('textarea[name="element-source-text"]').val(jQuery('textarea[name="element-source-text"]').val()+e)}),jQuery("#show-fontello-dialog").click(function(){jQuery("#eg-fontello-icons-dialog-wrap").css("overflow","overflow:hidden").dialog({modal:!0,draggable:!1,resizable:!1,width:700,height:580,title:eg_lang.fontello_icons,closeOnEscape:!0,dialogClass:"wp-dialog esg_dialog"})}),jQuery("#eg-show-meta-keys-dialog").click(function(){jQuery("#meta-dialog-wrap").dialog({modal:!0,draggable:!1,resizable:!1,width:632,height:565,closeOnEscape:!0,dialogClass:"wp-dialog esg_dialog"})}),jQuery("#esg-advanced-rules-edit").click(function(){if(null==n)return!1;jQuery("#advanced-rules-dialog-wrap").dialog({modal:!0,draggable:!1,resizable:!1,width:686,height:565,closeOnEscape:!1,buttons:[{text:eg_lang.save_rules,id:"adv_rules_save_btn",click:function(){var e=AdminEssentials.getFormParams("ar-form-wrap"),t=n.data("id");for(var i in a)if(a[i].id==t){a[i].settings["adv-rules"]=e;break}jQuery(this).dialog("close")}},{text:eg_lang.reset_fields,id:"adv_rules_reset_btn",click:function(){confirm(eg_lang.really_reset_fields)&&(document.getElementById("ar-form-wrap").reset(),jQuery(".ar-type-field").each(function(){jQuery(this).change()}),jQuery(".ar-operator-field").each(function(){jQuery(this).change()}))}},{text:eg_lang.discard_changes,id:"adv_rules_disc_btn",click:function(){confirm(eg_lang.really_discard_changes)&&jQuery(this).dialog("close")}}],dialogClass:"wp-dialog esg_dialog"}),document.getElementById("ar-form-wrap").reset(),jQuery(".ar-type-field").each(function(){jQuery(this).change()}),jQuery(".ar-operator-field").each(function(){jQuery(this).change()});var e=n.data("id");for(var t in jQuery('.ar-show-field[value="show"]').prop("checked","checked"),a)if(a[t].id==e){if(void 0!==a[t].settings["adv-rules"])for(var i in a[t].settings["adv-rules"])if("ar-show"==i)jQuery("."+i+'-field[value="'+a[t].settings["adv-rules"][i]+'"]').prop("checked","checked");else{var r=0;jQuery("."+i+"-field").each(function(){jQuery(this).val(a[t].settings["adv-rules"][i][r]),r++})}break}jQuery(".ar-type-field").each(function(){jQuery(this).change()}),jQuery(".ar-operator-field").each(function(){jQuery(this).change()})}),jQuery("body").on("change",".ar-type-field",function(){if("meta"==jQuery(this).val())jQuery(this).closest("tr").find(".ar-meta-field").attr("disabled",!1),jQuery(this).closest("tr").find(".ar-open-meta").attr("disabled",!1),jQuery(this).closest("tr").find(".ar-value-field").attr("disabled",!1),jQuery(this).closest("tr").find(".ar-opt-meta").each(function(){jQuery(this).attr("disabled",!1)});else{jQuery(this).closest("tr").find(".ar-meta-field").attr("disabled","disabled"),jQuery(this).closest("tr").find(".ar-open-meta").attr("disabled","disabled"),jQuery(this).closest("tr").find(".ar-value-field").attr("disabled","disabled"),jQuery(this).closest("tr").find(".ar-opt-meta").each(function(){jQuery(this).attr("disabled","disabled")});var e=jQuery(this).closest("tr").find(".ar-operator-field option:selected").val();"isset"!==e&&"empty"!==e&&jQuery(this).closest("tr").find('.ar-operator-field option[value="isset"]').prop("selected","selected")}var t=jQuery(this).attr("id");"off"==jQuery(this).val()?jQuery("#"+t+"-logic").attr("disabled","disabled"):jQuery("#"+t+"-logic").attr("disabled",!1)}),jQuery("body").on("change",".ar-operator-field",function(){"between"==jQuery(this).val()?jQuery(this).closest("tr").find('input[name="ar-value-2[]"]').attr("disabled",!1):jQuery(this).closest("tr").find('input[name="ar-value-2[]"]').attr("disabled","disabled")}),jQuery("#eg-global-css-dialog").click(function(){jQuery("#global-css-edit-dialog-wrap").dialog({modal:!0,draggable:!1,resizable:!1,width:632,height:565,closeOnEscape:!0,buttons:[{text:eg_lang.apply_changes,click:function(){var e={global_css:eg_codemirror_global_css.getValue()};AdminEssentials.ajaxRequest("update_custom_css",e,".ui-button",function(e){t.set_global_inline_styles(),jQuery("#global-css-edit-dialog-wrap").dialog("close")})}}],dialogClass:"wp-dialog"}),void 0===eg_codemirror_global_css&&(eg_codemirror_global_css=CodeMirror.fromTextArea(document.getElementById("eg-global-css-editor"),{mode:"css",theme:"base16-light",lineWrapping:!1,lineNumbers:!0,scrollbarStyle:"native"})),eg_codemirror_global_css.setSize(632,467),eg_codemirror_global_css.refresh()}),t.change_font_list=function(){var e=[];if(e.push("Georgia, serif"),e.push('"Palatino Linotype", "Book Antiqua", Palatino, serif'),e.push('"Times New Roman", Times, serif'),e.push("Arial, Helvetica, sans-serif"),e.push('"Arial Black", Gadget, sans-serif'),e.push('"Comic Sans MS", cursive, sans-serif'),e.push("Impact, Charcoal, sans-serif"),e.push('"Lucida Sans Unicode", "Lucida Grande", sans-serif'),e.push("Tahoma, Geneva, sans-serif"),e.push('"Trebuchet MS", Helvetica, sans-serif'),e.push("Verdana, Geneva, sans-serif"),e.push('"Courier New", Courier, monospace'),e.push('"Lucida Console", Monaco, monospace'),jQuery(".eg-google-font-link").remove(),u&&u.length>0)for(var t in u){var n=u[t].url;void 0!==n&&(n=(n=n.split("+").join(" ")).split(":"),e.push('"'+n[0]+'"'))}l=e,jQuery('input[name="element-font-family"]').autocomplete("option","source",l),jQuery('input[name="element-font-family-hover"]').autocomplete("option","source",l)},t.change_font_list(),jQuery('input[name="choose-layout"]').change(function(){"even"==jQuery(this).val()?(jQuery("#eg-show-ratio").show(),jQuery("#skin-dz-m-wrap").hide(),jQuery('select[name="show-content"] option').each(function(){"bottom"==jQuery(this).val()&&jQuery(this).text(eg_lang.bottom_on_hover),"top"==jQuery(this).val()&&jQuery(this).text(eg_lang.top_on_hover),"none"==jQuery(this).val()&&jQuery(this).text(eg_lang.hidden)})):(jQuery("#eg-show-ratio").hide(),jQuery("#skin-dz-m-wrap").show(),jQuery('select[name="show-content"] option').each(function(){"bottom"==jQuery(this).val()&&jQuery(this).text(eg_lang.bottom),"top"==jQuery(this).val()&&jQuery(this).text(eg_lang.top),"none"==jQuery(this).val()&&jQuery(this).text(eg_lang.hide)})),t.check_content_position(),t.resize_item_skin_preview()}),jQuery('select[name="show-content"]').change(function(){t.check_content_position()}),jQuery('select[name="show-content"] option:selected').change(),jQuery('select[name="content-align"]').change(function(){jQuery("#skin-dz-m").css("textAlign",jQuery(this).val())}),jQuery('select[name="content-align"] option:selected').change(),jQuery('input[name="choose-layout"]:checked').change(),jQuery("#element-settings-current-name").change(function(){var e=jQuery(this).val();t.select_layer(e)}),jQuery('select[name="cover-animation-top"], select[name="cover-animation-bottom"], select[name="cover-animation-center"], select[name="cover-group-animation"], select[name="media-animation"], select[name="cover-animation-top-type"], select[name="cover-animation-bottom-type"], select[name="cover-animation-center-type"]').change(function(){t.add_animation_classes()}),jQuery('select[name="cover-type"]').change(function(){"full"==jQuery(this).val()?(jQuery("#eg-cover-animation-top").css("display","none"),jQuery("#eg-cover-animation-bottom").css("display","none"),jQuery("#eg-dz-hover-wrap").addClass("eg-full-layout"),jQuery("#skin-dz-c-wrap .eg-element-cover").prependTo("#skin-dz-c-wrap")):(jQuery("#eg-cover-animation-top").css("display","inline-block"),jQuery("#eg-cover-animation-bottom").css("display","inline-block"),jQuery("#eg-dz-hover-wrap").removeClass("eg-full-layout"),jQuery("#skin-dz-c-wrap .eg-element-cover").prependTo("#eg-element-centerme-c")),t.add_animation_classes(),t.change_bg_color()}),jQuery('select[name="cover-type"] option:selected').change(),t.add_animation_classes(),jQuery('select[name="element-transition"]').change(function(){t.check_no_transition(this.options[this.selectedIndex].value)}),t.check_no_transition=function(e){var t="none"!==e?"show":"hide";jQuery(".eg-hideable-no-transition")[t]()},ESG.C.gridEditorInputs["eg-t_b_align"]=void 0===ESG.C.gridEditorInputs["eg-t_b_align"]?jQuery("#eg-t_b_align"):ESG.C.gridEditorInputs["eg-t_b_align"],ESG.C.gridEditorInputs["eg-l_r_align"]=void 0===ESG.C.gridEditorInputs["eg-l_r_align"]?jQuery("#eg-l_r_align"):ESG.C.gridEditorInputs["eg-l_r_align"],jQuery('select[name="element-align"]').change(function(){switch(jQuery('select[name="element-align"] option:selected').val()){case"t_l":ESG.C.gridEditorInputs["eg-t_b_align"].text(eg_lang.top),ESG.C.gridEditorInputs["eg-l_r_align"].text(eg_lang.left);break;case"t_r":ESG.C.gridEditorInputs["eg-t_b_align"].text(eg_lang.top),ESG.C.gridEditorInputs["eg-l_r_align"].text(eg_lang.right);break;case"b_l":ESG.C.gridEditorInputs["eg-t_b_align"].text(eg_lang.bottom),ESG.C.gridEditorInputs["eg-l_r_align"].text(eg_lang.left);break;case"b_r":ESG.C.gridEditorInputs["eg-t_b_align"].text(eg_lang.bottom),ESG.C.gridEditorInputs["eg-l_r_align"].text(eg_lang.right)}t.calculate_absolute_positioning(n)}),jQuery('select[name="element-absolute-unit"]').change(function(){t.calculate_absolute_positioning(n)}),jQuery("#skin-dz-tl, #skin-dz-br, #skin-dz-c, #skin-dz-m").sortable({connectWith:"#skin-dz-tl,#skin-dz-br,#skin-dz-c,#skin-dz-m",revert:!0,tolerance:"pointer",distance:15,grid:[2,2],placeholder:"eg-state-highlight",stack:"#eg-dz-hover-wrap",cancel:".dropzonetext, .eg-element-cover",opacity:1,zIndex:1e4,sort:function(){AdminEssentials.whileDropOrSort(".skin-dz-elements.ui-sortable-helper"),t.redraw_container_height(),AdminEssentials.atDropStop(1)},update:function(e,t){},beforeStop:function(e,t){},stop:function(e,i){AdminEssentials.atDropStop(),void 0!==i.item.data("id")?t.select_layer(i.item.data("id")):n=i.item,n.removeClass("ui-draggable"),t.update_layers(),t.change_bg_color(),t.redraw_container_height(),t.setting_has_changed()}}),jQuery("body").on("click","#layertotop",function(){var e=jQuery(".skin-dz-elements.selected");e.prev().hasClass("eg-element-cover")||e.insertBefore(e.prev()),t.update_layers(),t.change_bg_color(),t.redraw_container_height(),t.setting_has_changed()}),jQuery("body").on("click","#layertobottom",function(){var e=jQuery(".skin-dz-elements.selected");e.insertAfter(e.next()),t.update_layers(),t.change_bg_color(),t.redraw_container_height(),t.setting_has_changed()}),t.set_default_elements_draggable(),jQuery("body").on("click","#eg-dz-hover-wrap .skin-dz-elements",function(){if(null!=n){if(n.data("id")==jQuery(this).data("id"))return!0;t.setting_has_changed()}t.select_layer(jQuery(this).data("id"))}),jQuery("#settings-dz-elements-wrapper").tabs();var s={color:!0,change:function(e,n){clearTimeout(r),r=setTimeout(function(){t.setting_has_changed()},10)},wrapper:'<span class="rev-colorpickerspan"></span>'},c="undefined"!=typeof RevColor?"tpColorPicker":"wpColorPicker";jQuery("#element-background-color")[c](s),jQuery("#element-color")[c](s),jQuery("#element-border-color")[c](s),jQuery("#element-shadow-color")[c](s),jQuery("#element-background-color-hover")[c](s),jQuery("#element-color-hover")[c](s),jQuery("#element-border-color-hover")[c](s),jQuery("#element-shadow-color-hover")[c](s);var p={color:!0,change:function(e,n){clearTimeout(r),r=setTimeout(function(){t.container_setting_has_changed()},10)},wrapper:'<span class="rev-colorpickerspan"></span>'},g=jQuery.extend(!0,{},p);g.wrapper='<span class="rev-colorpickerspan cover-animation-color-wrap"></span>',jQuery("#full-border-color")[c](p),jQuery("#full-bg-color")[c](p),jQuery("#content-border-color")[c](p),jQuery("#content-shadow-color")[c](p),jQuery("#content-bg-color")[c](p),jQuery(".cover-animation-color")[c](g),jQuery("#container-background-color")[c]({color:!0,change:function(e,n){"undefined"==typeof RevColor&&jQuery(this).val(n.color.toString()),t.change_bg_color()},wrapper:'<span class="rev-colorpickerspan"></span>'}),jQuery('#container-background-color, input[name="container-background-color-into"]').change(function(){t.change_bg_color()}),jQuery("#container-background-color").change(),t.init_slider_elements(),t.setting_has_changed=function(){t.get_setting_values(),t.set_setting_styles(),t.set_setting_caption(),t.set_setting_attributes(),t.change_bg_color(),t.propagate_element_selector(),t.redraw_container_height(),AdminEssentials.atDropStop()},t.container_setting_has_changed=function(){t.set_full_styles(),t.set_content_styles(),t.redraw_container_height(),t.redraw_container_width(),AdminEssentials.atDropStop(),t.set_shadow_on_container(),t.change_bg_color()},t.set_full_styles=function(){var e=jQuery("#eg-dz-hover-wrap"),t=[],n=[],i="";jQuery('input[name="full-border[]"]').each(function(){t.push(parseInt(jQuery(this).val()))}),jQuery('input[name="full-border-radius[]"]').each(function(){n.push(parseInt(jQuery(this).val()))}),jQuery('input[name="full-padding[]"]').each(function(){i+=jQuery(this).val()+"px "}),e.css("borderTopWidth",t[0]+"px"),e.css("borderRightWidth",t[1]+"px"),e.css("borderBottomWidth",t[2]+"px"),e.css("borderLeftWidth",t[3]+"px");var r=jQuery('select[name="full-border-radius-type"] option:selected').val();e.css("borderTopLeftRadius",n[0]+r),e.css("borderTopRightRadius",n[1]+r),e.css("borderBottomRightRadius",n[2]+r),e.css("borderBottomLeftRadius",n[3]+r),e.css("padding",i);var a=jQuery("#full-bg-color"),s=jQuery("#full-border-color");e.css("background",a.attr("data-color")||a.val()),e.css("borderColor",s.attr("data-color")||s.val()),e.css("borderStyle",jQuery('select[name="full-border-style"] option:selected').val())},t.set_shadow_on_container=function(){var e=jQuery('select[name="all-shadow-used"] option:selected').val(),t=jQuery("#eg-dz-hover-wrap"),n=jQuery("#skin-dz-m-wrap"),i=jQuery("#skin-dz-wrapper"),r=jQuery(".eg-element-cover"),a="";if(t.css("-moz-box-shadow","").css("-webkit-box-shadow","").css("box-shadow",""),n.css("-moz-box-shadow","").css("-webkit-box-shadow","").css("box-shadow",""),i.css("-moz-box-shadow","").css("-webkit-box-shadow","").css("box-shadow",""),r.css("-moz-box-shadow","").css("-webkit-box-shadow","").css("box-shadow",""),"none"==e)return!0;"full"===jQuery('select[name="cover-type"]').val()&&(r=r.filter(function(){return"skin-dz-c-wrap"===jQuery(this).parent().attr("id")})),("cover"===e||jQuery("#content-shadow-inset:checked").length)&&(a+="inset "),jQuery('input[name="content-box-shadow[]"]').each(function(){a+=jQuery(this).val()+"px "});var s=jQuery("#content-shadow-color");s=s.attr("data-color")||s.val(),a+=s,"both"==e?t.css("-moz-box-shadow",a).css("-webkit-box-shadow",a).css("box-shadow",a):"content"==e?n.css("-moz-box-shadow",a).css("-webkit-box-shadow",a).css("box-shadow",a):"media"==e?i.css("-moz-box-shadow",a).css("-webkit-box-shadow",a).css("box-shadow",a):"cover"==e&&r.css("-moz-box-shadow",a).css("-webkit-box-shadow",a).css("box-shadow",a)},t.set_content_styles=function(){var e=jQuery("#skin-dz-m"),t=[],n=[],i="";jQuery('input[name="content-border[]"]').each(function(){t.push(parseInt(jQuery(this).val()))}),jQuery('input[name="content-border-radius[]"]').each(function(){n.push(parseInt(jQuery(this).val()))}),jQuery('input[name="content-padding[]"]').each(function(){i+=jQuery(this).val()+"px "}),e.css("borderTopWidth",t[0]+"px"),e.css("borderRightWidth",t[1]+"px"),e.css("borderBottomWidth",t[2]+"px"),e.css("borderLeftWidth",t[3]+"px");var r=jQuery('select[name="content-border-radius-type"] option:selected').val();e.css("borderTopLeftRadius",n[0]+r),e.css("borderTopRightRadius",n[1]+r),e.css("borderBottomRightRadius",n[2]+r),e.css("borderBottomLeftRadius",n[3]+r),e.css("padding",i);var a=jQuery("#content-bg-color"),s=jQuery("#content-border-color");e.css("background",a.attr("data-color")||a.val()),e.css("borderColor",s.attr("data-color")||s.val()),e.css("borderStyle",jQuery('select[name="content-border-style"] option:selected').val())},jQuery("body").on("click","#element-delete-button",function(){if(null==n)return!1;confirm(eg_lang.delete_this_element)&&t.delete_layer(n)}),jQuery('select[name="element-source"]').change(function(){switch(jQuery(".elements-select-wrap").hide(),jQuery(".esg-cat-tag-settings").hide(),jQuery("#eg-source-functonality-wrap").hide(),jQuery("#eg-source-meta-wrap").hide(),jQuery("#eg-source-taxonomy-wrap").hide(),jQuery(this).val()){case"event":jQuery("#eg-source-element-drops").show(),ESG.C.gridEditorInputs["element-source-event"].show(),ESG.C.gridEditorInputs["eg-source-limit-wrap"].show();break;case"woocommerce":jQuery("#eg-source-element-drops").show(),ESG.C.gridEditorInputs["element-source-woocommerce"].show(),ESG.C.gridEditorInputs["eg-source-limit-wrap"].show(),ESG.C.gridEditorInputs["element-source-woocommerce"].change();break;case"icon":jQuery("#eg-source-element-drops").hide(),ESG.C.gridEditorInputs["eg-source-icon-wrap"].show();break;case"text":jQuery("#eg-source-element-drops").hide();var e=!1;for(var t in a)if(a[t].id==n.data("id")){e=!0;var i=a[t];void 0!==typeof i&&null!==i&&void 0!==typeof i.settings.special&&"true"==i.settings.special&&void 0!==typeof i.settings["special-type"]&&"blank-element"==i.settings["special-type"]?jQuery("#eg-source-text-style-disable-wrap").hide():jQuery("#eg-source-text-style-disable-wrap").show()}!1===e&&jQuery("#eg-source-text-style-disable-wrap").show(),jQuery("#eg-source-text-wrap").show();break;case"post":default:jQuery("#eg-source-element-drops").show();var r=jQuery('select[name="element-source-post"]').val();-1===r.search(/cat_list|tag_list/)?ESG.C.gridEditorInputs["eg-source-limit-wrap"].show():ESG.C.gridEditorInputs["eg-source-limit-wrap"].hide(),"taxonomy"==r&&jQuery("#eg-source-taxonomy-wrap").show(),jQuery("#eg-source-functonality-wrap").show(),jQuery('select[name="element-source-post"]').show(),jQuery('select[name="element-source-function"]').show(),jQuery('select[name="element-source-post"]').change()}}),jQuery('select[name="element-source-post"]').change(function(){var e=jQuery(this).val();"cat_list"==e||"tag_list"==e||"taxonomy"==e?(jQuery(".esg-cat-tag-settings").show(),ESG.C.gridEditorInputs["eg-source-limit-wrap"].hide(),jQuery("#eg-source-functonality-wrap").show()):(jQuery(".esg-cat-tag-settings").hide(),ESG.C.gridEditorInputs["eg-source-limit-wrap"].show(),jQuery("#eg-source-functonality-wrap").hide()),"meta"==e?jQuery("#eg-source-meta-wrap").show():jQuery("#eg-source-meta-wrap").hide(),"taxonomy"==e?jQuery("#eg-source-taxonomy-wrap").show():jQuery("#eg-source-taxonomy-wrap").hide()}),ESG.C.gridEditorInputs["element-source-woocommerce"].change(function(){"wc_categories"==jQuery(this).val()?(jQuery(".esg-cat-tag-settings").show(),jQuery("#eg-source-functonality-wrap").show()):(jQuery(".esg-cat-tag-settings").hide(),jQuery("#eg-source-functonality-wrap").hide())}),jQuery('select[name="element-link-type"]').change(function(){switch(ESG.C.gridEditorInputs["eg-element-post-url-wrap"].hide(),ESG.C.gridEditorInputs["eg-element-post-meta-wrap"].hide(),ESG.C.gridEditorInputs["eg-element-post-javascript-wrap"].hide(),ESG.C.gridEditorInputs["eg-element-link-details-wrap"].show(),ESG.C.gridEditorInputs["eg-element-facebook-wrap"].hide(),ESG.C.gridEditorInputs["eg-element-gplus-wrap"].hide(),ESG.C.gridEditorInputs["eg-element-pinterest-wrap"].hide(),ESG.C.gridEditorInputs["eg-element-twitter-wrap"].hide(),jQuery(this).val()){case"post":case"lightbox":case"embedded_media":break;case"url":ESG.C.gridEditorInputs["eg-element-post-url-wrap"].show();break;case"meta":ESG.C.gridEditorInputs["eg-element-post-meta-wrap"].show();break;case"javascript":ESG.C.gridEditorInputs["eg-element-post-javascript-wrap"].show();break;case"sharefacebook":ESG.C.gridEditorInputs["eg-element-link-details-wrap"].hide(),ESG.C.gridEditorInputs["eg-element-facebook-wrap"].show(),"custom"==jQuery('select[name="element-facebook-sharing-link"]').val()?ESG.C.gridEditorInputs["eg-element-facebook_link_custom"].show():ESG.C.gridEditorInputs["eg-element-facebook_link_custom"].hide();break;case"sharegplus":ESG.C.gridEditorInputs["eg-element-link-details-wrap"].hide(),ESG.C.gridEditorInputs["eg-element-gplus-wrap"].show(),"custom"==jQuery('select[name="element-gplus-sharing-link"]').val()?ESG.C.gridEditorInputs["eg-element-gplus_link_custom"].show():ESG.C.gridEditorInputs["eg-element-gplus_link_custom"].hide();break;case"sharepinterest":ESG.C.gridEditorInputs["eg-element-link-details-wrap"].hide(),ESG.C.gridEditorInputs["eg-element-pinterest-wrap"].show(),"custom"==jQuery('select[name="element-pinterest-sharing-link"]').val()?ESG.C.gridEditorInputs["eg-element-pinterest_link_custom"].show():ESG.C.gridEditorInputs["eg-element-pinterest_link_custom"].hide();break;case"sharetwitter":ESG.C.gridEditorInputs["eg-element-link-details-wrap"].hide(),ESG.C.gridEditorInputs["eg-element-twitter-wrap"].show(),"custom"==jQuery('select[name="element-twitter-sharing-link"]').val()?ESG.C.gridEditorInputs["eg-element-twitter_link_custom"].show():ESG.C.gridEditorInputs["eg-element-twitter_link_custom"].hide()}}),jQuery('select[name="link-link-type"]').change(function(){switch(jQuery("#eg-link-post-url-wrap").hide(),jQuery("#eg-link-post-meta-wrap").hide(),jQuery("#eg-link-post-javascript-wrap").hide(),jQuery(this).val()){case"post":case"lightbox":case"embedded_media":break;case"url":jQuery("#eg-link-post-url-wrap").show();break;case"meta":jQuery("#eg-link-post-meta-wrap").show();break;case"javascript":jQuery("#eg-link-post-javascript-wrap").show()}}),jQuery('select[name="link-link-type"] option:selected').change(),jQuery('select[name="link-set-to"]').change(function(){"none"!==jQuery(this).val()?jQuery(".add-link-to-wrapper").show():jQuery(".add-link-to-wrapper").hide()}),jQuery('select[name="link-set-to"] option:selected').change(),jQuery('select[name="element-background-size"]').change(function(){jQuery("#background-size-percent-wrap").hide(),"%"==jQuery(this).val()&&jQuery("#background-size-percent-wrap").css("display","inline-block")}),jQuery('select[name="element-background-size"] option:selected').click(),jQuery('input[name="choose-layout"]:checked').change(),jQuery('select[name="element-display"]').change(function(){switch(jQuery("#element-text-align-wrap").hide(),jQuery("#element-float-wrap").hide(),jQuery(this).val()){case"block":jQuery("#element-text-align-wrap").show(),jQuery('#element-float-wrap option[value="none"]').prop("selected","selected");break;case"inline-block":jQuery("#element-float-wrap").show(),jQuery('#element-text-align-wrap option[value="center"]').prop("selected","selected")}}),jQuery('input[name="element-display"]:checked').change(),jQuery("#eg-styling-idle-hover-tab .eg-submenu li").click(function(){var e=jQuery("#eg-style-idle"),t=jQuery("#eg-style-hover"),n=jQuery(this).data("toshow");e.hide(),t.hide(),jQuery("#"+n).show(),jQuery("#"+n+" .eg-small-vertical-menu li:first-child").click(),jQuery("#eg-styling-idle-hover-tab .eg-submenu li").removeClass("selected-submenu-setting"),jQuery(this).addClass("selected-submenu-setting")}),jQuery("#eg-lc-spaces .eg-submenu li").click(function(){var e=jQuery("#eg-style-full"),t=jQuery("#eg-style-content"),n=jQuery(this).data("toshow");e.hide(),t.hide(),jQuery("#"+n).show(),jQuery("#eg-lc-spaces .eg-submenu li").removeClass("selected-submenu-setting"),jQuery(this).addClass("selected-submenu-setting")}),jQuery("#eg-btn-save-grid-editor, #eg-global-change").click(function(){var e=jQuery('input[name="item-skin-name"]').val();if(e.length<2)return alert(eg_lang.item_name_too_short),!1;var n=t.output_setting_data();n=JSON.stringify(n);var r={name:jQuery.trim(e),params:AdminEssentials.getFormParams("eg-form-item-skin-layout-settings"),layers:n};"update_item_skin"==i&&(r.id=jQuery('input[name="eg-item-skin-id"]').val()),AdminEssentials.ajaxRequest("update_create_item_skin",r,"#eg-btn-save-grid-editor, #eg-global-change"),o=!1}),jQuery('input[name="item-skin-name"]').keyup(function(){if(jQuery("#eg-item-skin-slug").text(AdminEssentials.sanitize_input(jQuery(this).val())),null!==n){var e="text"==jQuery('select[name="element-source"] option:selected').val()&&"checked"==jQuery('input[name="element-source-text-style-disable"]').prop("checked")?"-nostyle":"";jQuery(".eg-element-class-setter").text(eg_lang.class_name+" .eg-"+jQuery("#eg-item-skin-slug").text()+e+"-element-"+n.data("id"))}}),jQuery('input[name="item-skin-name"]').keyup(),jQuery("#element-save-as-button").click(function(){var e=void 0!==jQuery(".skin-dz-elements.selected").data("orighandle")?jQuery(".skin-dz-elements.selected").data("orighandle"):jQuery(".skin-dz-elements.selected").data("handle"),n=prompt(eg_lang.please_enter_unique_element_name,e);return null!=n&&(n.length<2?(alert(eg_lang.item_name_too_short),!1):void AdminEssentials.ajaxRequest("check_item_element_existence",{name:jQuery.trim(n)},".save-wrap-settings, #dz-delete",function(e){var i=!1;if(void 0!==typeof e.data.existence&&("true"==e.data.existence?confirm(eg_lang.element_name_exists_do_overwrite)&&(i=!0):"false"==e.data.existence?i=!0:AdminEssentials.showErrorMessage(e.data.existence,"")),i){var r={settings:AdminEssentials.getFormParams("eg-item-element-settings-wrap"),name:jQuery.trim(n)};AdminEssentials.ajaxRequest("update_create_item_element",r,".save-wrap-settings, #dz-delete",function(e){t.refresh_predefined_elements(),AdminEssentials.showWaitAMinute({fadeOut:300})})}else AdminEssentials.showInfoMessage(eg_lang.element_was_not_changed),AdminEssentials.showWaitAMinute({fadeOut:300})}))}),t.resize_item_skin_preview();e=jQuery("#eg-elements-container-grid").tpessential({layout:"masonry",row:4,column:3,space:25,aspectratio:"4:3",startAnimation:"none",startAnimationSpeed:0,startAnimationDelay:0,pageAnimation:"fade",overflowoffset:20,animSpeed:500,animDelay:"on",delayBasic:1,responsiveEntries:[{width:400,amount:3},{width:480,amount:3},{width:620,amount:3},{width:768,amount:3},{width:992,amount:3},{width:1200,amount:3},{width:1400,amount:3}]}),jQuery("#eg-preview-item-skin").click(function(){AdminEssentials.playElementAnimation()}),jQuery("#eg-preview-stop-item-skin").click(function(){AdminEssentials.stopElementAnimation()}),t.propagate_default_element_styles(),AdminEssentials.atDropStop(),AdminEssentials.callOnChange("#settings-dz-elements-wrapper",t.setting_has_changed,0),AdminEssentials.callOnChange(".eg-lc-menu-wrapper",t.container_setting_has_changed,0),t.container_setting_has_changed(),AdminEssentials.callOnChange("#eg-curname-event-wrap"),jQuery("#cover-background-image-wrap").click(function(e){e.preventDefault();var n=wp.media({title:eg_lang.choose_image,multiple:!1,library:{type:"image"},button:{text:eg_lang.choose_image}});n.on("select",function(){var e=n.state().get("selection").first().toJSON();n.state().get("selection");t.select_cover_image(e.url,e.id)}),n.open()}),jQuery("#remove-cover-background-image-wrap").click(function(){jQuery('input[name="cover-background-image"]').val("0"),jQuery('input[name="cover-background-image-url"]').val(""),jQuery("#cover-background-image-wrap").css("background-image",""),t.change_bg_color()}),t.select_cover_image=function(e,n){jQuery('input[name="cover-background-image"]').val(n),jQuery('input[name="cover-background-image-url"]').val(e),jQuery("#cover-background-image-wrap").css("background-image","url("+e+")"),t.change_bg_color()},jQuery("#element-hover-image").on("change",function(){var e=this.checked?"block":"none";hov=document.getElementById("eg-hover-img-animation"),hov&&(hov.style.display=e)}),jQuery(document).on("keydown",function(e){if(e.ctrlKey||e.metaKey)switch(String.fromCharCode(e.which).toLowerCase()){case"s":var t=jQuery("#eg-global-change");t.length&&(e.preventDefault(),t.click())}}),jQuery(".cover-animation-select").change(function(){var e=this.name.replace("cover-animation-",""),t=-1===this.value.search(/line|spiral|circle/)?"addClass":"removeClass";jQuery("#cover-animation-color-"+e).closest(".cover-animation-color-wrap")[t]("cover-animation-color-hide")}).change(),jQuery("#cover-type").change(function(){jQuery("#all-shadow-used").change()}),jQuery("#all-shadow-used").change(function(){var e="cover"===this.value,t=e?"full"===jQuery("#cover-type").val()?"removeClass":"addClass":"removeClass";jQuery("#content-box-shadow-hover")[t]("esg-hide-option"),t=e?"addClass":"removeClass",jQuery("#content-box-shadow-inset")[t]("esg-hide-option")}).change();var m=jQuery(".letter-spacing").on("change.letterspacing",function e(){m.off(".letterspacing");var t=this.value.replace("px","");isNaN(t)?"normal"!==t&&"inherit"!==t&&"initial"!==t&&(this.value="normal",jQuery(this).change()):(this.value=t+"px",jQuery(this).change()),m.on("change.letterspacing",e)});jQuery("#media-animation").change(function(){var e=-1===this.value.search("blur")?"addClass":"removeClass";jQuery("#media-animation-blur")[e]("esg-hide-option")}).change()},t.sortByOrder=function(e,t){return(e=parseInt(e.order.toLowerCase()))<(t=parseInt(t.order.toLowerCase()))?-1:e>t?1:0},t.resize_item_skin_preview=function(){var e=jQuery("#skin-dz-wrapper").width();if("even"==jQuery('input[name="choose-layout"]:checked').val())var t=jQuery('input[name="element-x-ratio"]').val(),n=jQuery('input[name="element-y-ratio"]').val();else t=1,n=1;jQuery("#skin-dz-wrapper").css("height",e/t*n),jQuery("#skin-dz-media-bg").css("height",e/t*n),jQuery("#skin-dz-media-bg-wrapper").css("height",e/t*n)},t.init_slider_elements=function(){for(var e in s)switch(s[e].type){case"text-slider":case"slider":if("shadow"==e)continue;parseInt(s[e].values.default),jQuery("#element-"+e).slider({value:isNaN(parseInt(s[e].values.default))?0:parseInt(s[e].values.default),min:parseInt(s[e].values.min),max:parseInt(s[e].values.max),step:parseInt(s[e].values.step),slide:function(e,t){jQuery('input[name="'+jQuery(this).attr("id")+'"]').val(t.value),jQuery("body").trigger("esgslide",jQuery(this))}});var n=parseInt(jQuery("#element-"+e+" .ui-slider-handle").css("left"),0);jQuery("#element-"+e).prepend('<span class="eg-pre-slider"></span>'),jQuery("#element-"+e+" .eg-pre-slider").css({width:n})}var i=[{name:"x-ratio",value:-1,min:1,max:16},{name:"y-ratio",value:-1,min:1,max:16}];for(var r in i){var a=1;null!=i[r].step&&(a=i[r].step),-1==i[r].value&&(i[r].value=jQuery('input[name="element-'+i[r].name+'"]').val()),jQuery("#element-"+i[r].name).slider({value:i[r].value,min:i[r].min,max:i[r].max,step:a,slide:function(e,n){jQuery('input[name="'+jQuery(this).attr("id")+'"]').val(n.value),jQuery("body").trigger("esgslide",jQuery(this)),"element-x-ratio"!=jQuery(this).attr("id")&&"element-y-ratio"!=jQuery(this).attr("id")||t.resize_item_skin_preview()}});n=parseInt(jQuery("#element-"+i[r].name+" .ui-slider-handle").css("left"),0);jQuery("#element-"+i[r].name).prepend('<span class="eg-pre-slider"></span>'),jQuery("#element-"+i[r].name+" .eg-pre-slider").css({width:n})}jQuery("body").on("esgslide",function(e,t){var n=jQuery(t);setTimeout(function(){var e=parseInt(n.find(".ui-slider-handle").css("left"),0);n.find(".eg-pre-slider").css({width:e})},10)}),jQuery("#element-item-skin-width-check").slider({value:400,min:100,max:1170,step:1,slide:function(e,n){jQuery("#currently-at-pixel").text(n.value+"px"),jQuery("body").trigger("esgslide",jQuery(this)),jQuery("#skin-dz-wrapper").css("width",n.value),jQuery("#skin-dz-media-bg").css("width",n.value),t.resize_item_skin_preview()}});n=parseInt(jQuery("#element-item-skin-width-check .ui-slider-handle").css("left"),0);jQuery("#element-item-skin-width-check").prepend('<span class="eg-pre-slider"></span>'),jQuery("#element-item-skin-width-check .eg-pre-slider").css({width:n}),jQuery("#content-shadow-alpha").slider({value:jQuery('input[name="content-shadow-alpha"]').val(),min:0,max:100,step:1,slide:function(e,t){jQuery('input[name="content-shadow-alpha"]').val(t.value),jQuery("body").trigger("esgslide",jQuery(this))}});n=parseInt(jQuery("#content-shadow-alpha .ui-slider-handle").css("left"),0);jQuery("#content-shadow-alpha").prepend('<span class="eg-pre-slider"></span>'),jQuery("#content-shadow-alpha .eg-pre-slider").css({width:n});i=[];for(var r in i){i[r].value=jQuery('input[name="'+i[r].name+'"]').val(),jQuery("#"+i[r].name).slider({value:i[r].value,min:i[r].min,max:i[r].max,step:1,slide:function(e,n){jQuery('input[name="'+jQuery(this).attr("id")+'"]').val(n.value),jQuery("body").trigger("esgslide",jQuery(this)),t.add_animation_classes()}});n=parseInt(jQuery("#"+i[r].name+" .ui-slider-handle").css("left"),0);jQuery("#"+i[r].name).prepend('<span class="eg-pre-slider"></span>'),jQuery("#"+i[r].name+" .eg-pre-slider").css({width:n})}t.reinitSliderPosition(),jQuery("#settings-dz-elements-wrapper>ul>li>a, #layer-settings-header").click(function(){setTimeout(function(){t.reinitSliderPosition()},20)})},t.reinitSliderPosition=function(){jQuery(".eg-pre-slider").each(function(){var e=jQuery(this),t=parseInt(e.parent().find(".ui-slider-handle").css("left"),0);NaN!=t&&null!=t&&e.css({width:t})})},t.initOverviewItemSkin=function(){jQuery(".eg-btn-delete-item-skin").click(function(){var e=jQuery(this).attr("id").replace("eg-delete-",""),t={id:e};confirm(eg_lang.delete_item_skin)&&AdminEssentials.ajaxRequest("delete_item_skin",t,".btn-wrap-item-skin-overview-"+e,function(t){t.success,1==t.success&&jQuery("#eg-delete-"+e).closest("li").remove()})}),jQuery(".eg-btn-duplicate-item-skin").click(function(){var e={id:jQuery(this).attr("id").replace("eg-duplicate-","")};AdminEssentials.ajaxRequest("duplicate_item_skin",e,"")}),jQuery(".eg-btn-star-item-skin").click(function(){var e=jQuery(this).attr("id").replace("eg-star-",""),t={id:e};AdminEssentials.ajaxRequest("star_item_skin",t,"#waitaminute",function(t){var n=jQuery("#eg-star-"+e).children("i");n.hasClass("eg-icon-star-empty")?(n.removeClass("eg-icon-star-empty").addClass("eg-icon-star"),n.closest("li").addClass("filter-favorite")):(n.removeClass("eg-icon-star").addClass("eg-icon-star-empty"),n.closest("li").removeClass("filter-favorite"))})})}};